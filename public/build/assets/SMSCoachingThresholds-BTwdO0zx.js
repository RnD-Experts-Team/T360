import{c as B,b as C,e as r,f as l,l as a,u as s,X as i,P as I,L as n,k as T,M as A,N as V,U as d,S as O,ak as U,D as E,E as L}from"./vendor-cgn9wV4E.js";import{x as Z,g as j}from"./vendor-vue-C6le94gM.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-Bx6WXffK.js";import{_ as P}from"./Layout.vue_vue_type_script_setup_true_lang-CU45tdIh.js";import{_ as X}from"./HeadingSmall.vue_vue_type_script_setup_true_lang-BhvImSkb.js";import{_ as q}from"./Button.vue_vue_type_script_setup_true_lang-DA-5a5tM.js";import{_ as H}from"./Input.vue_vue_type_script_setup_true_lang-1zH_gJ02.js";import{_ as J}from"./Label.vue_vue_type_script_setup_true_lang-WOFpmVDV.js";import{_ as K}from"./Separator.vue_vue_type_script_setup_true_lang-NVRt3j8w.js";import{u as Q}from"./use-toast-NM-oBpfT.js";import"./vendor-axios-C0Zqfgkc.js";import"./utils-C4uCeQPu.js";import"./vendor-ui-BuPyOEYe.js";import"./Icon.vue_vue_type_script_setup_true_lang-g5QrAIpa.js";import"./vendor-icons-Bu7C1ObZ.js";import"./useInitials-DzeGKvtI.js";import"./app-BwOLsRrX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BM02NuXb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"space-y-6"},W={class:"text-sm font-medium mb-2 capitalize text-muted-foreground"},Y={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},ee={key:0,class:"text-sm text-destructive"},se={key:0,class:"flex items-center gap-4"},oe={key:0},te={key:1},re={class:"text-sm text-neutral-600"},Me={__name:"SMSCoachingThresholds",props:{thresholds:Object,tenantSlug:String,permissions:Array},setup(m){var u,h,g,b,v,y,f,k,S,x,z,M;const e=m,$=B(()=>[{title:e.tenantSlug?"Dashboard":"Admin Dashboard",href:e.tenantSlug?route("dashboard",{tenantSlug:e.tenantSlug}):route("admin.dashboard")}]),{toast:w}=Q(),o=Z({on_time_good:((u=e.thresholds)==null?void 0:u.on_time_good)??"",on_time_bad:((h=e.thresholds)==null?void 0:h.on_time_bad)??"",on_time_minor_improvement:((g=e.thresholds)==null?void 0:g.on_time_minor_improvement)??"",acceptance_good:((b=e.thresholds)==null?void 0:b.acceptance_good)??"",acceptance_bad:((v=e.thresholds)==null?void 0:v.acceptance_bad)??"",acceptance_minor_improvement:((y=e.thresholds)==null?void 0:y.acceptance_minor_improvement)??"",greenzone_score_good:((f=e.thresholds)==null?void 0:f.greenzone_score_good)??"",greenzone_score_bad:((k=e.thresholds)==null?void 0:k.greenzone_score_bad)??"",greenzone_score_minor_improvement:((S=e.thresholds)==null?void 0:S.greenzone_score_minor_improvement)??"",severe_alerts_good:((x=e.thresholds)==null?void 0:x.severe_alerts_good)??"",severe_alerts_bad:((z=e.thresholds)==null?void 0:z.severe_alerts_bad)??"",severe_alerts_minor_improvement:((M=e.thresholds)==null?void 0:M.severe_alerts_minor_improvement)??""}),G=[{key:"on_time",label:"On-Time (%)",fields:[{key:"on_time_good",label:"Good"},{key:"on_time_bad",label:"Bad"},{key:"on_time_minor_improvement",label:"Minor Improvement"}]},{key:"acceptance",label:"Acceptance (%)",fields:[{key:"acceptance_good",label:"Good"},{key:"acceptance_bad",label:"Bad"},{key:"acceptance_minor_improvement",label:"Minor Improvement"}]},{key:"greenzone_score",label:"Green Zone Score (out of 1050)",fields:[{key:"greenzone_score_good",label:"Good"},{key:"greenzone_score_bad",label:"Bad"},{key:"greenzone_score_minor_improvement",label:"Minor Improvement"}]},{key:"severe_alerts",label:"Severe Alerts",fields:[{key:"severe_alerts_good",label:"Good"},{key:"severe_alerts_bad",label:"Bad"},{key:"severe_alerts_minor_improvement",label:"Minor Improvement"}]}],N=()=>{o.post(route("thresholds.update",e.tenantSlug),{onSuccess:()=>{w({title:"Success",description:"Thresholds saved successfully"})},preserveScroll:!0})},p=B(()=>Array.isArray(e.permissions)?e.permissions.map(c=>c==null?void 0:c.name).filter(Boolean):[]);return(c,ae)=>(r(),C(F,{breadcrumbs:$.value,tenantSlug:m.tenantSlug,permissions:m.permissions},{default:l(()=>[a(s(j),{title:"SMS Thresholds"}),a(P,{permissions:m.permissions},{default:l(()=>[i("div",R,[a(X,{title:"SMS Score Thresholds",description:"Manage performance thresholds for On-Time, Acceptance, Green Zone, and Severe Alerts."}),a(s(K)),i("form",{onSubmit:I(N,["prevent"]),class:"space-y-6 max-w-2xl"},[(r(),n(A,null,V(G,_=>i("div",{key:_.key},[i("h3",W,d(_.label),1),i("div",Y,[(r(!0),n(A,null,V(_.fields,t=>(r(),n("div",{key:t.key,class:"grid gap-2"},[a(s(J),{for:t.key},{default:l(()=>[O(d(t.label),1)]),_:2},1032,["for"]),a(s(H),{id:t.key,modelValue:s(o)[t.key],"onUpdate:modelValue":D=>s(o)[t.key]=D,type:"number",step:"0.01",class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue"]),s(o).errors[t.key]?(r(),n("p",ee,d(s(o).errors[t.key]),1)):T("",!0)]))),128))])])),64)),p.value&&p.value.includes("sms-coaching-thresholds.update")?(r(),n("div",se,[a(s(q),{type:"submit",disabled:s(o).processing},{default:l(()=>[s(o).processing?(r(),n("span",oe,"Saving...")):(r(),n("span",te,"Save Changes"))]),_:1},8,["disabled"]),a(U,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:l(()=>[E(i("p",re,"Saved.",512),[[L,s(o).recentlySuccessful]])]),_:1})])):T("",!0)],32)])]),_:1},8,["permissions"])]),_:1},8,["breadcrumbs","tenantSlug","permissions"]))}};export{Me as default};
