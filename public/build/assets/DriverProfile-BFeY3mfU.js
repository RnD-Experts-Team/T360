import{W as T,g as A}from"./vendor-vue-C6le94gM.js";import{u as N}from"./useInitials-DzeGKvtI.js";import{u as P}from"./app-BwOLsRrX.js";import{C as O,S as z,M,L as V,b as B,P as I,c as U,G as W,d as Z,T as G,e as R,f as q,R as H,g as S}from"./vendor-icons-Bu7C1ObZ.js";import{c as y,L as i,e as n,X as e,l as a,u as r,M as _,N as w,U as o,b2 as p,b as C,O as E,S as v,k as Q,a1 as X}from"./vendor-cgn9wV4E.js";import"./vendor-axios-C0Zqfgkc.js";const Y={class:"flex items-center space-x-2"},J={class:"border rounded-full px-3 py-1 text-sm flex items-center"},K=["onClick"],ee={__name:"DateFilterSwitcherPage",props:{driverData:{type:Object,required:!0}},setup(f){const g=f,s=[{label:"All Time",value:"full"},{label:"Quarterly",value:"quarterly"},{label:"T6W",value:"6w"},{label:"WTD",value:"current-week"},{label:"Yesterday",value:"yesterday"}],x=y(()=>g.driverData.dateFilter??"full");function h(b){if(b===x.value)return;const u={dateFilter:b};T.visit(route("driver.dashboard",u),{preserveScroll:!0,only:["driverData"]})}return(b,u)=>(n(),i("div",Y,[e("div",J,[a(r(O),{class:"mr-2 h-4 w-4"}),u[0]||(u[0]=e("span",null,"Filter:",-1))]),(n(),i(_,null,w(s,d=>e("button",{key:d.value,onClick:k=>h(d.value),class:p(["border rounded-full px-3 py-1 text-sm transition-colors",{"bg-primary/10 border-primary/30 text-primary":x.value===d.value,"hover:bg-muted/20":x.value!==d.value}])},o(d.label),11,K)),64))]))}},te={class:"relative min-h-screen bg-background p-4 md:p-6"},se={class:"absolute top-4 right-4 flex items-center gap-4"},re={class:"inline-flex gap-1 rounded-lg bg-neutral-100 p-1 dark:bg-neutral-800"},oe=["onClick"],le={class:"container max-w-6xl mx-auto mt-6"},ae={class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6"},ne={class:"flex items-center border rounded-full px-3 py-1 text-sm mt-2 md:mt-0"},ie={class:"bg-card rounded-lg border border-muted/30 shadow-sm"},de={class:"flex flex-col md:flex-row gap-6 p-6"},ce={class:"md:w-1/3 flex flex-col items-center space-y-4"},ue={class:"relative"},me={class:"w-32 h-32 rounded-full overflow-hidden border-2 border-primary bg-muted/20 flex items-center justify-center"},ve=["src"],fe={key:1,class:"text-3xl font-bold text-primary"},xe={class:"absolute -bottom-2 left-1/2 transform -translate-x-1/2"},be={class:"px-2 py-1 text-sm font-bold bg-primary text-white rounded-full text-center"},_e={class:"text-center mt-6 space-y-2"},pe={class:"text-xl font-bold"},ge={class:"flex items-center justify-center text-muted-foreground"},he={class:"flex items-center justify-center text-muted-foreground"},ye={class:"pt-4"},we={class:"font-medium"},ke={class:"md:w-2/3 space-y-6"},De={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Se={class:"bg-primary/10 border border-primary/20 rounded-lg p-4"},Ce={class:"flex items-center"},Te={class:"text-2xl font-bold mt-2 text-primary"},je={class:"bg-success/10 border border-success/20 rounded-lg p-4"},$e={class:"flex items-center"},Fe={class:"bg-warning/10 border border-warning/20 rounded-lg p-4"},Le={class:"flex items-center"},Ae={class:"bg-success/10 border border-success/20 rounded-lg p-4"},Ne={class:"flex justify-between items-center"},Pe={class:"font-semibold text-success flex items-center"},Oe={class:"mt-2 h-2 w-full bg-success/20 rounded-full overflow-hidden"},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Me={class:"border rounded-lg p-4"},Ve={class:"flex items-center justify-between"},Be={class:"flex items-center"},Ie={class:"text-2xl font-bold"},Ue={class:"border rounded-lg p-4"},We={class:"flex items-center justify-between"},Ze={class:"flex items-center"},Ge={class:"text-2xl font-bold"},Re={class:"border rounded-lg"},qe={class:"border-b p-4"},He={class:"font-semibold flex items-center"},Ee={class:"p-4 space-y-3"},Qe={class:"flex items-center"},Xe={class:"bg-destructive/10 text-destructive rounded-full w-8 h-8 flex items-center justify-center mr-3"},Ye={class:"font-bold"},Je={key:1,class:"border border-dashed border-muted/40 bg-muted/10 text-center text-muted-foreground rounded-lg p-8"},at={__name:"DriverProfile",props:{driverData:Object},setup(f){const g=f,s=y(()=>g.driverData),{getInitials:x}=N(),{appearance:h,updateAppearance:b}=P(),u=[{value:"light",name:z},{value:"dark",name:M}];function d(l){const[t,c,m]=l.split("-");return`${c}/${m}/${t}`}function k(l){return{speeding:"Speeding",distraction:"Distracted Driving",sign:"Sign Violation",light:"Traffic Light Violation",following:"Following Distance"}[l]??l}const j=l=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(l),$=y(()=>s.value.last_updated?j(new Date(s.value.last_updated)):"-"),F=()=>{T.post(route("logout"))},D=l=>l>=75?"text-green-600":l>=50?"text-amber-600":"text-red-600",L=l=>l>=900?"text-green-600":l>=750?"text-emerald-600":l>=600?"text-blue-600":"text-red-600";return(l,t)=>(n(),i(_,null,[a(r(A),{title:"Driver Profile"}),e("div",te,[e("div",se,[e("div",re,[(n(),i(_,null,w(u,({value:c,name:m})=>e("button",{key:c,onClick:Ke=>r(b)(c),class:p(["flex items-center rounded-md px-3.5 py-1.5 transition-colors",r(h)===c?"bg-white shadow-sm dark:bg-neutral-700 dark:text-neutral-100":"text-neutral-500 hover:bg-neutral-200/60 hover:text-black dark:text-neutral-400 dark:hover:bg-neutral-700/60"])},[(n(),C(E(m),{class:"-ml-1 h-4 w-4"}))],10,oe)),64)),e("button",{onClick:F,class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background text-destructive hover:bg-destructive/10 h-9 px-3"},[a(r(V),{class:"mr-2 h-4 w-4"}),t[0]||(t[0]=v(" Logout "))])])]),e("div",le,[e("div",ae,[t[1]||(t[1]=e("div",null,[e("h1",{class:"text-2xl font-bold"},"Driver Profile"),e("p",{class:"text-muted-foreground mt-1"},"Detailed performance metrics")],-1)),e("div",ne,[a(r(B),{class:"mr-1 h-4 w-4"}),v(" Last updated: "+o($.value),1)]),f.driverData?(n(),C(ee,{key:0,driverData:f.driverData},null,8,["driverData"])):Q("",!0)]),e("div",ie,[e("div",de,[e("div",ce,[e("div",ue,[e("div",me,[s.value.image?(n(),i("img",{key:0,src:s.value.image,alt:"Driver",class:"w-full h-full object-cover"},null,8,ve)):(n(),i("div",fe,o(r(x)(s.value.name)),1))]),e("div",xe,[e("div",be," Rank #"+o(s.value.rank),1)])]),e("div",_e,[e("h2",pe,o(s.value.name),1),e("div",ge,[a(r(I),{class:"mr-2 h-4 w-4"}),v(" +1 "+o(s.value.phone),1)]),e("div",he,[a(r(U),{class:"mr-2 h-4 w-4"}),v(" "+o(s.value.email),1)]),e("div",ye,[t[2]||(t[2]=e("div",{class:"text-sm text-muted-foreground"},"Hire Date",-1)),e("div",we,o(d(s.value.hireDate)),1)])])]),e("div",ke,[s.value.rank>0?(n(),i(_,{key:0},[e("div",De,[e("div",Se,[e("div",Ce,[a(r(W),{class:"mr-2 h-5 w-5 text-primary"}),t[3]||(t[3]=e("h3",{class:"font-semibold text-primary"},"Overall Score",-1))]),e("div",Te,o(s.value.overall_score),1)]),e("div",je,[e("div",$e,[a(r(Z),{class:"mr-2 h-5 w-5 text-success"}),t[4]||(t[4]=e("h3",{class:"font-semibold text-success"},"On-Time Score",-1))]),e("div",{class:p(["text-2xl font-bold mt-2 text-success",D(s.value.on_time_score)])},o(s.value.on_time_score)+"% ",3)]),e("div",Fe,[e("div",Le,[a(r(G),{class:"mr-2 h-5 w-5 text-warning"}),t[5]||(t[5]=e("h3",{class:"font-semibold text-warning"},"Acceptance Score",-1))]),e("div",{class:p(["text-2xl font-bold mt-2 text-warning",D(s.value.acceptance_score)])},o(s.value.acceptance_score)+"% ",3)])]),e("div",Ae,[e("div",Ne,[e("h3",Pe,[a(r(R),{class:"mr-2 h-5 w-5"}),t[6]||(t[6]=v(" Green Zone Score "))]),e("div",{class:p(["text-2xl font-bold text-success",L(s.value.greenZoneScore)])},o(s.value.greenZoneScore),3)]),e("div",Oe,[e("div",{class:"h-full bg-success rounded-full",style:X({width:`${s.value.greenZoneScore}%`})},null,4)])]),e("div",ze,[e("div",Me,[e("div",Ve,[e("div",Be,[a(r(q),{class:"mr-2 h-5 w-5 text-blue-500"}),t[7]||(t[7]=e("div",null,[e("h3",{class:"font-semibold"},"Minutes Analyzed"),e("p",{class:"text-sm text-muted-foreground"},"Total driving time analyzed")],-1))]),e("div",Ie,o(s.value.minutesAnalyzed),1)])]),e("div",Ue,[e("div",We,[e("div",Ze,[a(r(H),{class:"mr-2 h-5 w-5 text-indigo-500"}),t[8]||(t[8]=e("div",null,[e("h3",{class:"font-semibold"},"# of Trips"),e("p",{class:"text-sm text-muted-foreground"},"Completed trips")],-1))]),e("div",Ge,o(s.value.trips),1)])])]),e("div",Re,[e("div",qe,[e("h3",He,[a(r(S),{class:"mr-2 h-5 w-5 text-destructive"}),t[9]||(t[9]=v(" Safety Alerts "))])]),e("div",Ee,[(n(!0),i(_,null,w(s.value.infractions,(c,m)=>(n(),i("div",{key:m,class:"flex justify-between items-center py-2 border-b border-muted/20 last:border-0"},[e("div",Qe,[e("div",Xe,[a(r(S),{class:"h-4 w-4"})]),e("span",null,o(k(m)),1)]),e("span",Ye,o(c),1)]))),128))])])],64)):(n(),i("div",Je,t[10]||(t[10]=[e("h2",{class:"text-xl font-semibold mb-2"},"No data available",-1),e("p",null,"This driver has no performance data for the selected date filter.",-1)])))])])])])])],64))}};export{at as default};
