import{r as y,c as L,w as Me,b as m,e as i,f as l,l as t,X as n,u as s,k as f,S as r,U as v,B as Ue,P as X,D as T,Y as G,bF as oe,L as x,M,N as U,b2 as re,bI as Ne}from"./vendor-cgn9wV4E.js";import{x as J,g as Pe,W as _}from"./vendor-vue-C6le94gM.js";import{_ as ze}from"./AppLayout.vue_vue_type_script_setup_true_lang-DiJRBPRF.js";import{_ as d}from"./Icon.vue_vue_type_script_setup_true_lang-g5QrAIpa.js";import{_ as Be,a as Fe,b as Q,c as $,d as Le,e as h}from"./TableRow.vue_vue_type_script_setup_true_lang-58J5Q7id.js";import{_ as c}from"./Button.vue_vue_type_script_setup_true_lang-DA-5a5tM.js";import{_ as ue}from"./Card.vue_vue_type_script_setup_true_lang-DQTQMX6v.js";import{_ as Oe}from"./CardHeader.vue_vue_type_script_setup_true_lang-n-Rvhb9V.js";import{_ as ie}from"./CardContent.vue_vue_type_script_setup_true_lang-DNXZ8J1r.js";import{b as O,_ as q,a as I}from"./DialogDescription.vue_vue_type_script_setup_true_lang-BDOQqQHy.js";import{_ as K,a as R}from"./DialogTitle.vue_vue_type_script_setup_true_lang-K_t0Wv0O.js";import{_ as Y}from"./DialogFooter.vue_vue_type_script_setup_true_lang-C4cZ_wVx.js";import{_ as N}from"./Label.vue_vue_type_script_setup_true_lang-WOFpmVDV.js";import{_ as de}from"./Input.vue_vue_type_script_setup_true_lang-1zH_gJ02.js";import{b as qe,_ as Ie,a as Ke}from"./AlertDescription.vue_vue_type_script_setup_true_lang-BdYx0SaG.js";import{_ as ce}from"./Badge.vue_vue_type_script_setup_true_lang-BpieHD20.js";import"./vendor-axios-C0Zqfgkc.js";import"./utils-C4uCeQPu.js";import"./vendor-ui-BuPyOEYe.js";import"./useInitials-DzeGKvtI.js";import"./app-CwVxJaic.js";import"./vendor-icons-Bu7C1ObZ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BM02NuXb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Re={class:"w-[95%] mx-auto p-6 space-y-8"},Ye={class:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6"},Ee={class:"flex items-center gap-3"},He={class:"flex gap-3"},We={class:"flex flex-col gap-4"},Xe={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Ge={class:"relative"},Je={class:"flex items-end"},Qe={class:"flex items-center gap-2 h-10 cursor-pointer"},Ze={class:"flex justify-end"},et={class:"overflow-x-auto bg-background dark:bg-background border-t border-border"},tt={class:"flex items-center justify-center"},st=["checked"],lt={class:"flex items-center gap-1"},at={class:"flex items-center gap-1"},nt={class:"flex items-center gap-1"},ot={class:"flex items-center gap-1"},rt={class:"flex flex-col items-center justify-center text-muted-foreground"},ut=["value"],it={class:"flex items-center gap-2"},dt={class:"font-medium"},ct={class:"flex flex-col"},mt={class:"text-xs text-muted-foreground"},ft={class:"flex gap-2"},pt={key:0,class:"bg-muted/20 px-4 py-3 border-t"},vt={class:"flex flex-col sm:flex-row justify-between items-center gap-4"},gt={class:"text-sm text-muted-foreground"},bt={class:"flex items-center gap-4"},yt={class:"flex items-center gap-2"},kt={class:"flex"},xt=["innerHTML"],wt={class:"space-y-2"},_t=["value"],St={class:"space-y-4 p-4"},ht={class:"flex-1"},Ct={class:"border rounded-md"},$t={class:"divide-y max-h-[300px] overflow-y-auto"},jt={key:0,class:"p-4 text-center text-muted-foreground"},Tt={class:"flex gap-2"},Dt={key:0,class:"border rounded-md mt-4"},At={class:"divide-y max-h-[200px] overflow-y-auto"},Vt={class:"text-muted-foreground flex items-center"},Mt={class:"flex gap-2"},ls={__name:"TicketIndex",props:{tickets:Object,tenantSlug:{type:String,default:null},SuperAdmin:Boolean,filters:Object,ticket_subjects:{type:Array,default:()=>[]},deleted_subjects:{type:Array,default:()=>[]},permissions:Array},setup(b){var ne;const u=b;u.filters.status="";const k=y(""),D=y(!1),P=y(!1),j=J({subject:"",message:""}),z=J({name:""}),p=y({...u.filters}),g=y([]),A=y(!1),B=y(((ne=u.tickets)==null?void 0:ne.per_page)||10),S=y("created_at"),w=y("desc"),V=y(!1),Z=y(null),E=y(""),me=[{title:u.tenantSlug?"Dashboard":"Admin Dashboard",href:u.tenantSlug?route("dashboard",{tenantSlug:u.tenantSlug}):route("admin.dashboard")},{title:"Customer Support",href:u.tenantSlug?route("support.index",{tenantSlug:u.tenantSlug}):route("support.index.admin")}],ee=L(()=>u.tickets.data.length>0&&g.value.length===u.tickets.data.length);function fe(){ee.value?g.value=[]:g.value=u.tickets.data.map(o=>o.id)}function pe(o){return g.value.includes(o)}function te(o){return u.SuperAdmin?!o.seen_by_admin:!o.seen_by_user}function ve(o){switch(o){case"open":return"open";case"in_progress":return"in_progress";case"closed":return"closed";default:return"outline"}}function F(o){S.value===o?w.value=w.value==="asc"?"desc":"asc":(S.value=o,w.value="asc");const e=u.tenantSlug?route("support.index",{tenantSlug:u.tenantSlug}):route("support.index.admin");_.get(e,{...p.value,sort:S.value,direction:w.value,per_page:B.value},{preserveState:!0})}function ge(){if(g.value.length===0)return;const o=J({ids:g.value}),e=u.SuperAdmin?"support.destroyBulk.admin":"support.destroyBulk",a=u.SuperAdmin?{}:{tenantSlug:u.tenantSlug};o.delete(route(e,a),{preserveScroll:!0,onSuccess(){k.value=`${g.value.length} tickets deleted successfully.`,g.value=[],A.value=!1}})}function be(){const o=u.tenantSlug?route("support.index",{tenantSlug:u.tenantSlug}):route("support.index.admin");_.get(o,{...p.value,sort:S.value,direction:w.value,per_page:B.value},{preserveState:!0})}function ye(o){o&&_.get(new URL(o).href,{},{preserveState:!0})}const se=L(()=>{let o=[...u.tickets.data];if(p.value.search){const e=p.value.search.toLowerCase();o=o.filter(a=>a.subject.toLowerCase().includes(e)||String(a.id).includes(e))}return p.value.status&&(o=o.filter(e=>e.status===p.value.status)),p.value.unseen&&(o=o.filter(te)),o});function H(){}function ke(){p.value={search:"",status:"",unseen:!1}}function le(){j.reset(),D.value=!0}function xe(){const o=u.tenantSlug?route("support.store",{tenantSlug:u.tenantSlug}):route("support.store.admin");j.post(o,{onSuccess(){k.value=`Thank you for submitting a support ticket. Our team of customer obsession specialists will review your submission right away and respond in a timely manner.

Need to add more? You can view the ticket below and add a new response to be attached to your ticket.`,D.value=!1,j.reset()}})}function we(o){Z.value=o,V.value=!0}function _e(o){const e=u.tenantSlug?route("support.show",{tenantSlug:u.tenantSlug,ticket:o}):route("support.show.admin",o);_.get(e)}function Se(o){const e=u.tenantSlug?route("support.destroy",{tenantSlug:u.tenantSlug,ticket:o}):route("support.destroy.admin",o);_.delete(e,{onSuccess(){k.value="Ticket deleted.",V.value=!1,_.reload()}})}function he(o){const e=new Date(o);return`${e.getMonth()+1}-${e.getDate()}-${e.getFullYear()}`}function Ce(o){return new Date(o).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function $e(){j.subject=E.value}function je(){P.value=!0}function Te(){z.post(route("ticket_subjects.store.admin"),{preserveScroll:!0,onSuccess(){z.reset(),k.value="Subject created successfully"}})}function De(o){confirm("Are you sure you want to delete this subject?")&&_.delete(route("ticket_subjects.destroy.admin",o),{preserveScroll:!0,onSuccess(){k.value="Subject deleted successfully"}})}function Ae(o){_.post(route("ticket_subjects.restore.admin",o),{},{preserveScroll:!0,onSuccess(){k.value="Subject restored successfully"}})}function Ve(o){confirm("Are you sure you want to permanently delete this subject? This action cannot be undone.")&&_.delete(route("ticket_subjects.forceDelete.admin",o),{preserveScroll:!0,onSuccess(){k.value="Subject permanently deleted"}})}const W=L(()=>u.ticket_subjects.filter(o=>!o.deleted_at)),ae=L(()=>u.ticket_subjects.filter(o=>o.deleted_at));return Me(k,o=>{o&&setTimeout(()=>k.value="",8e3)}),(o,e)=>(i(),m(ze,{breadcrumbs:me,tenantSlug:b.tenantSlug,permissions:u.permissions},{default:l(()=>[t(s(Pe),{title:"Customer Support"}),n("div",Re,[k.value?(i(),m(s(qe),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:l(()=>[t(s(Ie),{class:"flex items-center gap-2"},{default:l(()=>[t(d,{name:"check-circle",class:"h-5 w-5 text-green-500"}),e[24]||(e[24]=r(" Ticket Submitted Successfully! "))]),_:1}),t(s(Ke),{class:"whitespace-pre-line"},{default:l(()=>[r(v(k.value),1)]),_:1})]),_:1})):f("",!0),n("div",Ye,[n("div",Ee,[t(d,{name:"help-circle",class:"h-7 w-7 text-primary"}),e[25]||(e[25]=n("h1",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200"},"Customer Support",-1))]),n("div",He,[b.SuperAdmin?f("",!0):(i(),m(s(c),{key:0,onClick:le,variant:"default",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"plus",class:"mr-2 h-4 w-4"}),e[26]||(e[26]=r(" Submit a Ticket "))]),_:1})),g.value.length>0?(i(),m(s(c),{key:1,onClick:e[0]||(e[0]=a=>A.value=!0),variant:"destructive",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"trash",class:"mr-2 h-4 w-4"}),r(" Delete Selected ("+v(g.value.length)+") ",1)]),_:1})):f("",!0),b.SuperAdmin?(i(),m(s(c),{key:2,onClick:e[1]||(e[1]=a=>je()),variant:"outline"},{default:l(()=>[t(d,{name:"settings",class:"mr-2 h-4 w-4"}),e[27]||(e[27]=r(" Manage Types "))]),_:1})):f("",!0)])]),t(s(ue),{class:"shadow-sm hover:shadow transition-all duration-300"},{default:l(()=>[t(s(Oe),{class:"pb-2"}),t(s(ie),{class:"p-4 pt-2"},{default:l(()=>[n("div",We,[n("div",Xe,[n("div",null,[t(s(N),{for:"search",class:"text-sm font-medium mb-1 block"},{default:l(()=>e[28]||(e[28]=[r("Search")])),_:1}),n("div",Ge,[t(d,{name:"search",class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t(s(de),{id:"search",modelValue:p.value.search,"onUpdate:modelValue":e[2]||(e[2]=a=>p.value.search=a),placeholder:"Search type or ticket id",onKeydown:Ue(X(H,["prevent"]),["enter"]),class:"pl-9"},null,8,["modelValue","onKeydown"])])]),n("div",null,[t(s(N),{for:"status",class:"text-sm font-medium mb-1 block"},{default:l(()=>e[29]||(e[29]=[r("Status")])),_:1}),T(n("select",{id:"status","onUpdate:modelValue":e[3]||(e[3]=a=>p.value.status=a),onChange:H,class:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background"},e[30]||(e[30]=[n("option",{value:""},"All Statuses",-1),n("option",{value:"open"},"Open",-1),n("option",{value:"in_progress"},"In Progress",-1),n("option",{value:"closed"},"Closed",-1)]),544),[[G,p.value.status]])]),n("div",Je,[n("label",Qe,[T(n("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=a=>p.value.unseen=a),onChange:H,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,544),[[oe,p.value.unseen]]),e[31]||(e[31]=n("span",null,"Unseen Only",-1))])])]),n("div",Ze,[t(s(c),{onClick:ke,variant:"ghost",size:"sm",class:"gap-1"},{default:l(()=>[t(d,{name:"rotate-ccw",class:"h-4 w-4"}),e[32]||(e[32]=r(" Reset Filters "))]),_:1})])])]),_:1})]),_:1}),t(s(ue),{class:"shadow-sm hover:shadow transition-all duration-300"},{default:l(()=>[t(s(ie),{class:"p-0"},{default:l(()=>[n("div",et,[t(s(Be),{class:"relative h-[600px] overflow-auto"},{default:l(()=>[t(s(Fe),null,{default:l(()=>[t(s(Q),{class:"sticky top-0 bg-background border-b z-10 hover:bg-background"},{default:l(()=>[t(s($),{class:"w-[50px]"},{default:l(()=>[n("div",tt,[n("input",{type:"checkbox",onChange:fe,checked:ee.value,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,st)])]),_:1}),t(s($),{class:"w-[70px] cursor-pointer",onClick:e[5]||(e[5]=a=>F("id"))},{default:l(()=>[n("div",lt,[e[33]||(e[33]=r(" ID ")),S.value==="id"?(i(),m(d,{key:0,name:w.value==="asc"?"arrow-up":"arrow-down",class:"h-3 w-3"},null,8,["name"])):f("",!0)])]),_:1}),b.SuperAdmin?(i(),m(s($),{key:0},{default:l(()=>e[34]||(e[34]=[r("User")])),_:1})):f("",!0),t(s($),{class:"cursor-pointer",onClick:e[6]||(e[6]=a=>F("subject"))},{default:l(()=>[n("div",at,[e[35]||(e[35]=r(" Type ")),S.value==="subject"?(i(),m(d,{key:0,name:w.value==="asc"?"arrow-up":"arrow-down",class:"h-3 w-3"},null,8,["name"])):f("",!0)])]),_:1}),t(s($),{class:"cursor-pointer",onClick:e[7]||(e[7]=a=>F("status"))},{default:l(()=>[n("div",nt,[e[36]||(e[36]=r(" Status ")),S.value==="status"?(i(),m(d,{key:0,name:w.value==="asc"?"arrow-up":"arrow-down",class:"h-3 w-3"},null,8,["name"])):f("",!0)])]),_:1}),t(s($),{class:"cursor-pointer",onClick:e[8]||(e[8]=a=>F("created_at"))},{default:l(()=>[n("div",ot,[e[37]||(e[37]=r(" Created ")),S.value==="created_at"?(i(),m(d,{key:0,name:w.value==="asc"?"arrow-up":"arrow-down",class:"h-3 w-3"},null,8,["name"])):f("",!0)])]),_:1}),t(s($),null,{default:l(()=>e[38]||(e[38]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(s(Le),null,{default:l(()=>[se.value.length===0?(i(),m(s(Q),{key:0},{default:l(()=>[t(s(h),{colspan:b.SuperAdmin?7:6,class:"py-8 text-center"},{default:l(()=>[n("div",rt,[t(d,{name:"inbox",class:"h-12 w-12 mb-2 opacity-20"}),e[40]||(e[40]=n("p",null,"No tickets found",-1)),b.SuperAdmin?f("",!0):(i(),m(s(c),{key:0,onClick:le,variant:"link",class:"mt-2"},{default:l(()=>e[39]||(e[39]=[r(" Create your first ticket ")])),_:1}))])]),_:1},8,["colspan"])]),_:1})):f("",!0),(i(!0),x(M,null,U(se.value,a=>(i(),m(s(Q),{key:a.id,class:re(["hover:bg-muted/50 transition-colors",{"bg-primary/5":pe(a.id)}])},{default:l(()=>[t(s(h),{class:"text-center"},{default:l(()=>[T(n("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":e[9]||(e[9]=C=>g.value=C),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,ut),[[oe,g.value]])]),_:2},1024),t(s(h),{class:"text-center font-mono text-sm"},{default:l(()=>[r(v(a.id),1)]),_:2},1024),b.SuperAdmin?(i(),m(s(h),{key:0},{default:l(()=>[r(v(a.user.name),1)]),_:2},1024)):f("",!0),t(s(h),null,{default:l(()=>[n("div",it,[n("span",dt,v(a.subject),1),te(a)?(i(),m(s(ce),{key:0,variant:"destructive",class:"ml-2 animate-pulse"},{default:l(()=>e[41]||(e[41]=[r("New")])),_:1})):f("",!0)])]),_:2},1024),t(s(h),null,{default:l(()=>[t(s(ce),{variant:ve(a.status),class:"capitalize"},{default:l(()=>[r(v(a.status.replace("_"," ")),1)]),_:2},1032,["variant"])]),_:2},1024),t(s(h),null,{default:l(()=>[n("div",ct,[n("span",null,v(he(a.created_at)),1),n("span",mt,v(Ce(a.created_at)),1)])]),_:2},1024),t(s(h),null,{default:l(()=>[n("div",ft,[t(s(c),{onClick:C=>_e(a.id),size:"sm",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"eye",class:"mr-1 h-4 w-4"}),e[42]||(e[42]=r("View "))]),_:2},1032,["onClick"]),t(s(c),{onClick:C=>we(a.id),variant:"destructive",size:"sm",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"trash",class:"mr-1 h-4 w-4"}),e[43]||(e[43]=r("Delete "))]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})]),b.tickets.links?(i(),x("div",pt,[n("div",vt,[n("div",gt," Showing "+v(b.tickets.data.length)+" of "+v(b.tickets.total),1),n("div",bt,[n("div",yt,[t(s(N),{for:"perPage",class:"text-sm"},{default:l(()=>e[44]||(e[44]=[r("Per page:")])),_:1}),T(n("select",{id:"perPage","onUpdate:modelValue":e[10]||(e[10]=a=>B.value=a),onChange:be,class:"h-8 rounded-md border border-input bg-background px-2 py-1 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},e[45]||(e[45]=[n("option",{value:"10"},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1),n("option",{value:"100"},"100",-1)]),544),[[G,B.value]])]),n("div",kt,[(i(!0),x(M,null,U(b.tickets.links,a=>(i(),m(s(c),{key:a.label,onClick:C=>ye(a.url),disabled:!a.url,size:"sm",variant:"ghost",class:re(["mx-1",{"bg-primary/10 text-primary border-primary":a.active}])},{default:l(()=>[n("span",{innerHTML:a.label},null,8,xt)]),_:2},1032,["onClick","disabled","class"]))),128))])])])])):f("",!0)]),_:1})]),_:1}),t(s(O),{open:A.value,"onUpdate:open":e[13]||(e[13]=a=>A.value=a)},{default:l(()=>[t(s(q),null,{default:l(()=>[t(s(K),null,{default:l(()=>[t(s(R),{class:"flex items-center gap-2"},{default:l(()=>[t(d,{name:"alert-triangle",class:"h-5 w-5 text-destructive"}),e[46]||(e[46]=r(" Confirm Bulk Deletion "))]),_:1}),t(s(I),null,{default:l(()=>[r(" Are you sure you want to delete "+v(g.value.length)+" tickets? This action cannot be undone. ",1)]),_:1})]),_:1}),t(s(Y),{class:"mt-4"},{default:l(()=>[t(s(c),{type:"button",onClick:e[11]||(e[11]=a=>A.value=!1),variant:"outline"},{default:l(()=>e[47]||(e[47]=[r(" Cancel ")])),_:1}),t(s(c),{type:"button",onClick:e[12]||(e[12]=a=>ge()),variant:"destructive"},{default:l(()=>e[48]||(e[48]=[r(" Delete Selected ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(s(O),{open:D.value,"onUpdate:open":e[17]||(e[17]=a=>D.value=a)},{default:l(()=>[t(s(q),{class:"sm:max-w-lg w-[90vw]"},{default:l(()=>[t(s(K),null,{default:l(()=>[t(s(R),{class:"flex items-center gap-2"},{default:l(()=>[t(d,{name:"plus-circle",class:"h-5 w-5 text-primary"}),e[49]||(e[49]=r(" New Ticket "))]),_:1}),t(s(I),null,{default:l(()=>e[50]||(e[50]=[r(" Create your support ticket by providing the details below so a customer obsession specialist can assist you quickly and efficiently. ")])),_:1})]),_:1}),n("form",{onSubmit:X(xe,["prevent"]),class:"space-y-4 p-4"},[n("div",null,[t(s(N),{for:"subjectSelect"},{default:l(()=>e[51]||(e[51]=[r("Type")])),_:1}),n("div",wt,[T(n("select",{id:"subjectSelect","onUpdate:modelValue":e[14]||(e[14]=a=>E.value=a),onChange:$e,class:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background"},[(i(!0),x(M,null,U(W.value,a=>(i(),x("option",{key:a.id,value:a.name},v(a.name),9,_t))),128))],544),[[G,E.value]])])]),n("div",null,[t(s(N),{for:"message"},{default:l(()=>e[52]||(e[52]=[r("Message")])),_:1}),T(n("textarea",{id:"message","onUpdate:modelValue":e[15]||(e[15]=a=>s(j).message=a),rows:"4",placeholder:"Describe your issue in detail...",class:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",required:""},null,512),[[Ne,s(j).message]])]),t(s(Y),{class:"flex justify-end gap-2"},{default:l(()=>[t(s(c),{type:"button",onClick:e[16]||(e[16]=a=>D.value=!1),variant:"outline"},{default:l(()=>e[53]||(e[53]=[r(" Cancel ")])),_:1}),t(s(c),{type:"submit",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>e[54]||(e[54]=[r("Create")])),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"]),t(s(O),{open:P.value,"onUpdate:open":e[20]||(e[20]=a=>P.value=a)},{default:l(()=>[t(s(q),{class:"sm:max-w-lg"},{default:l(()=>[t(s(K),null,{default:l(()=>[t(s(R),{class:"flex items-center gap-2"},{default:l(()=>[t(d,{name:"list",class:"h-5 w-5 text-primary"}),e[55]||(e[55]=r(" Manage Ticket Types "))]),_:1}),t(s(I),null,{default:l(()=>e[56]||(e[56]=[r(" Create and manage predefined types for support tickets. ")])),_:1})]),_:1}),n("div",St,[n("form",{onSubmit:X(Te,["prevent"]),class:"flex gap-2 mb-6"},[n("div",ht,[t(s(de),{modelValue:s(z).name,"onUpdate:modelValue":e[18]||(e[18]=a=>s(z).name=a),placeholder:"Enter Type name...",required:"",class:"w-full"},null,8,["modelValue"])]),t(s(c),{type:"submit",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"plus",class:"mr-2 h-4 w-4"}),e[57]||(e[57]=r(" Add "))]),_:1})],32),n("div",Ct,[e[58]||(e[58]=n("div",{class:"bg-muted/30 px-4 py-2 border-b"},[n("h3",{class:"font-medium"},"Available Types")],-1)),n("div",$t,[W.value.length===0?(i(),x("div",jt," No types found. Create your first one above. ")):f("",!0),(i(!0),x(M,null,U(W.value,a=>(i(),x("div",{key:a.id,class:"flex items-center justify-between p-3 hover:bg-muted/30"},[n("span",null,v(a.name),1),n("div",Tt,[t(s(c),{onClick:C=>De(a.id),variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:l(()=>[t(d,{name:"trash",class:"h-4 w-4 text-destructive"})]),_:2},1032,["onClick"])])]))),128))])]),ae.value.length>0?(i(),x("div",Dt,[e[60]||(e[60]=n("div",{class:"bg-muted/30 px-4 py-2 border-b"},[n("h3",{class:"font-medium"},"Deleted Types")],-1)),n("div",At,[(i(!0),x(M,null,U(ae.value,a=>(i(),x("div",{key:a.id,class:"flex items-center justify-between p-3 hover:bg-muted/30"},[n("span",Vt,[r(v(a.name)+" ",1),e[59]||(e[59]=n("span",{class:"ml-2 text-xs text-red-500"},"(Deleted)",-1))]),n("div",Mt,[t(s(c),{onClick:C=>Ae(a.id),variant:"ghost",size:"sm",class:"h-8 w-8 p-0",title:"Restore Type"},{default:l(()=>[t(d,{name:"undo",class:"h-4 w-4 text-primary"})]),_:2},1032,["onClick"]),t(s(c),{onClick:C=>Ve(a.id),variant:"ghost",size:"sm",class:"h-8 w-8 p-0",title:"Permanently Delete"},{default:l(()=>[t(d,{name:"x",class:"h-4 w-4 text-destructive"})]),_:2},1032,["onClick"])])]))),128))])])):f("",!0)]),t(s(Y),null,{default:l(()=>[t(s(c),{onClick:e[19]||(e[19]=a=>P.value=!1),variant:"outline"},{default:l(()=>e[61]||(e[61]=[r(" Close ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(s(O),{open:V.value,"onUpdate:open":e[23]||(e[23]=a=>V.value=a)},{default:l(()=>[t(s(q),null,{default:l(()=>[t(s(K),null,{default:l(()=>[t(s(R),null,{default:l(()=>e[62]||(e[62]=[r("Confirm Deletion")])),_:1}),t(s(I),null,{default:l(()=>e[63]||(e[63]=[r(" Are you sure you want to delete this ticket? This action cannot be undone. ")])),_:1})]),_:1}),t(s(Y),{class:"mt-4"},{default:l(()=>[t(s(c),{type:"button",onClick:e[21]||(e[21]=a=>V.value=!1),variant:"outline"},{default:l(()=>e[64]||(e[64]=[r(" Cancel ")])),_:1}),t(s(c),{type:"button",onClick:e[22]||(e[22]=a=>Se(Z.value)),variant:"destructive"},{default:l(()=>e[65]||(e[65]=[r(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1},8,["tenantSlug","permissions"]))}};export{ls as default};
