import{c as M,r as k,A as yt,K as bt,bg as kt,b as g,e as r,f as l,l as s,X as o,u as t,k as p,L as i,S as n,U as m,P as re,b2 as de,M as C,N as A,D as N,Y as W,bF as Ne,bI as Ue}from"./vendor-cgn9wV4E.js";import{_ as y}from"./Icon.vue_vue_type_script_setup_true_lang-g5QrAIpa.js";import{_ as Se}from"./SortIndicator-pqdQrfEL.js";import{_ as J,a as Z,b as V,c as w,d as ee,e as _}from"./TableRow.vue_vue_type_script_setup_true_lang-58J5Q7id.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-DA-5a5tM.js";import{_ as Ce}from"./Card.vue_vue_type_script_setup_true_lang-DQTQMX6v.js";import{_ as St}from"./CardHeader.vue_vue_type_script_setup_true_lang-n-Rvhb9V.js";import{_ as Ct}from"./CardTitle.vue_vue_type_script_setup_true_lang-AShXP1uR.js";import{_ as Ae}from"./CardContent.vue_vue_type_script_setup_true_lang-DNXZ8J1r.js";import{b as B,_ as j,a as P}from"./DialogDescription.vue_vue_type_script_setup_true_lang-BDOQqQHy.js";import{_ as Q,a as L}from"./DialogTitle.vue_vue_type_script_setup_true_lang-K_t0Wv0O.js";import{_ as E}from"./DialogFooter.vue_vue_type_script_setup_true_lang-C4cZ_wVx.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-WOFpmVDV.js";import{_ as U}from"./Input.vue_vue_type_script_setup_true_lang-1zH_gJ02.js";import{b as Ie,_ as Re,a as Me}from"./AlertDescription.vue_vue_type_script_setup_true_lang-BdYx0SaG.js";import{_ as At}from"./AppLayout.vue_vue_type_script_setup_true_lang-BeAMINRz.js";import{x as _e,g as Ot,W as O}from"./vendor-vue-C6le94gM.js";import{_ as ht}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-C4uCeQPu.js";import"./vendor-icons-Bu7C1ObZ.js";import"./vendor-ui-BuPyOEYe.js";import"./useInitials-DzeGKvtI.js";import"./app-8KAEFqwr.js";import"./vendor-axios-C0Zqfgkc.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BM02NuXb.js";const Vt={class:"w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto m-0 p-2 md:p-4 lg:p-6 space-y-2 md:space-y-4 lg:space-y-6"},Dt={class:"mb-2 flex flex-col items-center justify-between px-2 sm:flex-row md:mb-4 lg:mb-6"},$t={class:"flex flex-wrap gap-3"},Nt={class:"relative"},Ut={key:0,class:"absolute right-0 z-10 mt-1 w-48 rounded-md border bg-background shadow-lg"},It={class:"py-1"},Rt={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted"},Mt=["href"],Wt={key:2,class:"mb-6"},qt={class:"rounded-md border-l-4 border-red-500 bg-red-50 p-4 shadow-sm dark:border-red-400 dark:bg-red-900/30"},zt={class:"flex items-center"},Ft={class:"flex-shrink-0"},Tt={class:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-800"},Bt={class:"ml-3"},jt={class:"mt-1 text-sm text-red-700 dark:text-red-200"},Pt={class:"mt-2"},Qt={class:"flex flex-col items-center gap-2 md:items-start"},Lt={class:"flex flex-wrap gap-1 md:gap-2"},Et={key:0,class:"text-sm text-muted-foreground"},Yt={key:0},Ht={key:1},Kt={key:2},Xt={key:3,class:"ml-1"},Gt={key:3,class:"mx-auto mb-6 grid max-w-[95vw] grid-cols-1 gap-4 md:max-w-[64vw] md:grid-cols-2 lg:max-w-full"},Jt={class:"rounded-lg border bg-card shadow-sm"},Zt={class:"p-4"},es={class:"space-y-3"},ts={class:"text-sm"},ss={key:0,class:"text-center text-muted-foreground"},ls={class:"rounded-lg border bg-card shadow-sm"},as={class:"p-4"},os={class:"space-y-3"},ns={class:"text-sm"},rs={key:0,class:"text-center text-muted-foreground"},ds={key:4,class:"mx-auto mb-6 max-w-[95vw] overflow-x-auto rounded-lg border bg-card p-4 shadow-sm md:max-w-[64vw] lg:max-w-full"},us={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},is={class:"mt-4 flex justify-end"},ms={key:5,class:"mx-auto mb-6 max-w-[95vw] overflow-x-auto rounded-lg border bg-card shadow-sm md:max-w-[64vw] lg:max-w-full"},fs={class:"flex items-center justify-between border-b p-4"},ps={class:"flex items-start justify-between"},cs={class:"flex flex-col items-center space-y-1"},vs={key:0,class:"mb-6 rounded-lg border bg-card shadow-sm"},xs={class:"overflow-x-auto"},_s={class:"/* ~15rem on xs */ /* ~20rem on sm+ */ /* ~24rem on md+ */ max-h-60 overflow-y-auto sm:max-h-80 md:max-h-96"},gs={key:6,class:"mb-6 rounded-lg border bg-card shadow-sm"},ws={class:"flex items-center justify-between"},ys={class:"flex items-center gap-2"},bs={key:0,class:"ml-4 flex flex-wrap gap-2 text-xs text-muted-foreground"},ks={key:0,class:"rounded-full bg-muted px-2 py-1"},Ss={key:1,class:"rounded-full bg-muted px-2 py-1"},Cs={key:2,class:"rounded-full bg-muted px-2 py-1"},As={class:"flex flex-col gap-1 md:gap-4"},Os={class:"grid w-full grid-cols-1 gap-1 sm:grid-cols-3 md:gap-4"},hs=["value"],Vs={key:0},Ds=["value"],$s={key:0},Ns={class:"flex justify-end space-x-2"},Us={key:7,class:"flex flex-col items-center justify-center rounded-lg border bg-muted/20 py-16"},Is={class:"overflow-x-auto border-t border-border bg-background dark:bg-background"},Rs={class:"flex items-center justify-center"},Ms=["checked"],Ws={class:"flex items-center"},qs={class:"flex items-center"},zs={class:"flex items-center"},Fs=["value"],Ts={key:0,class:"ml-1 text-xs text-red-500"},Bs={key:0},js={key:0,class:"text-xs text-red-500"},Ps={key:1},Qs={key:1},Ls={class:"flex space-x-2"},Es={key:0,class:"border-t bg-muted/20 px-4 py-3"},Ys={class:"flex flex-col items-center justify-between gap-2 sm:flex-row"},Hs={class:"text-sm text-muted-foreground"},Ks={class:"flex w-full flex-col items-center gap-2 sm:w-auto sm:flex-row sm:gap-4"},Xs={class:"flex items-center gap-2"},Gs={class:"flex flex-wrap"},Js=["innerHTML"],Zs={key:0,class:"col-span-2"},el={class:"relative mt-1"},tl=["value"],sl={class:"col-span-2 sm:col-span-1"},ll={class:"col-span-2 sm:col-span-1"},al={class:"col-span-2 sm:col-span-1"},ol={class:"col-span-2 sm:col-span-1"},nl={class:"relative mt-1"},rl=["value"],dl={class:"col-span-2"},ul={class:"mt-1 rounded-md border border-input bg-background p-2"},il={class:"mb-2 flex flex-wrap gap-1"},ml={key:0,class:"ml-1 text-[0.65rem] text-red-500 sm:text-xs"},fl=["onClick"],pl={class:"relative"},cl=["value","disabled"],vl={class:"col-span-2"},xl={class:"col-span-2 sm:col-span-1"},_l={class:"relative mt-1"},gl=["value","disabled"],wl={class:"col-span-2 sm:col-span-1"},yl={class:"col-span-2 sm:col-span-1"},bl={class:"relative mt-1"},kl=["value","disabled"],Sl={class:"col-span-2 sm:col-span-1"},Cl={class:"col-span-2 sm:col-span-1"},Al={class:"col-span-2 sm:col-span-1"},Ol={class:"mt-1 flex items-center space-x-2"},hl={class:"col-span-2 sm:col-span-1"},Vl={class:"relative mt-1"},Dl={class:"col-span-2 sm:col-span-1"},$l={key:1},Nl={class:"relative mt-1"},Ul={key:2,class:"col-span-2"},Il={class:"space-y-4 sm:space-y-6"},Rl={class:"space-y-1 sm:space-y-2"},Ml={class:"rounded-md border"},Wl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},ql={key:0,class:"ml-1 text-xs text-red-500"},zl={class:"flex space-x-1 sm:space-x-2"},Fl={class:"space-y-4 sm:space-y-6"},Tl={class:"space-y-1 sm:space-y-2"},Bl={class:"overflow-hidden rounded-md border"},jl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Pl={key:0,class:"ml-1 text-xs text-red-500"},Ql={class:"flex space-x-1 sm:space-x-2"},Ll={class:"space-y-4 sm:space-y-6"},El={class:"space-y-1 sm:space-y-2"},Yl={class:"overflow-hidden rounded-md border"},Hl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Kl={key:0,class:"ml-1 text-xs text-red-500"},Xl={class:"flex space-x-1 sm:space-x-2"},Gl={class:"max-h-[60vh] overflow-x-auto overflow-y-auto"},Jl={class:"flex items-center gap-2"},Zl={key:1,class:"py-8 text-center text-muted-foreground"},ea={__name:"Index",props:{repairOrders:{type:Object,default:()=>({data:[],links:[]})},tenantSlug:{type:String,default:null},SuperAdmin:{type:Boolean,default:!1},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},dateRange:{type:Object,default:null},dateFilter:{type:String,default:"yesterday"},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},initialMinInvoiceAmount:{type:[Number,String,null],default:null},initialOutstandingDate:{type:[String,null],default:null},outstandingInvoices:{type:Array,default:()=>[]},workOrdersByTruck:{type:Array,default:()=>[]},workOrderByAreasOfConcern:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({search:"",vendor_id:"",status_id:""})},perPage:{type:Number,default:10},permissions:Array},setup(v){const f=v,Oe=M(()=>(h.value==="yesterday"||h.value==="current-week")&&f.weekNumber&&f.year?`Week ${f.weekNumber}, ${f.year}`:(h.value==="6w"||h.value==="quarterly")&&f.startWeekNumber&&f.endWeekNumber&&f.year?`Weeks ${f.startWeekNumber}-${f.endWeekNumber}, ${f.year}`:""),We=[{title:f.tenantSlug?"Dashboard":"Admin Dashboard",href:f.tenantSlug?route("dashboard",{tenantSlug:f.tenantSlug}):route("admin.dashboard")},{title:"Repair Orders",href:f.tenantSlug?route("repair_orders.index",{tenantSlug:f.tenantSlug}):route("repair_orders.index.admin")}],ue=k(!1),te=k({name:""}),he=M(()=>(f.workOrderByAreasOfConcern||[]).slice(0,5)),qe=M(()=>f.outstandingInvoices.reduce((d,e)=>{const D=Number(e.invoice_amount)||0;return d+D},0)),Ve=M(()=>(f.workOrdersByTruck||[]).slice(0,5)),ie=k(""),$=k(""),z=k(!1),se=k(!1),me=k(!1),fe=k(!1),ge=k("Create Repair Order"),F=k("Create"),pe=k(null),Y=k("ro_number"),T=k("asc"),h=k(f.dateFilter||"full"),H=k(f.perPage||10),I=k([]),le=k(!1),K=k(!1),ze=M(()=>f.repairOrders.data.length>0&&f.repairOrders.data.every(d=>I.value.includes(d.id)));function Fe(d){d.target.checked?I.value=f.repairOrders.data.map(e=>e.id):I.value=[]}function Te(){I.value.length>0&&(le.value=!0)}function Be(){const d=_e({ids:I.value}),e=f.SuperAdmin?"repair_orders.destroyBulk.admin":"repair_orders.destroyBulk",D=f.SuperAdmin?{}:{tenantSlug:f.tenantSlug};d.delete(route(e,D),{preserveScroll:!0,onSuccess:()=>{$.value=`${I.value.length} repair orders deleted successfully.`,I.value=[],le.value=!1},onError:q=>{console.error(q),alert("Error deleting repair orders")}})}const S=k({...f.filters}),u=_e({id:null,tenant_id:f.SuperAdmin?"":null,ro_number:"",ro_open_date:new Date().toISOString().split("T")[0],ro_close_date:"",truck_id:"",vendor_id:"",wo_number:"",wo_status_id:"",invoice:"",invoice_amount:"",invoice_received:!1,on_qs:"no",qs_invoice_date:"",disputed:!1,dispute_outcome:"",repairs_made:"",area_of_concerns:[]}),ae=_e({concern:""}),oe=_e({vendor_name:""}),je=M(()=>f.areasOfConcern.filter(d=>!u.area_of_concerns.includes(d.id))),Pe=()=>{u.reset(),u.tenant_id=f.SuperAdmin?"":null,u.invoice_received=!1,u.on_qs=!1,u.disputed=!1,u.dispute_outcome="",u.area_of_concerns=[],ge.value="Create Repair Order",F.value="Create",z.value=!0},Qe=d=>{u.reset(),u.id=d.id,u.tenant_id=d.tenant_id,u.ro_number=d.ro_number,u.ro_open_date=d.ro_open_date,u.ro_close_date=d.ro_close_date||"",u.truck_id=d.truck_id,u.vendor_id=d.vendor_id,u.wo_number=d.wo_number,u.wo_status_id=d.wo_status_id,u.invoice=d.invoice||"",u.invoice_amount=d.invoice_amount||"",u.invoice_received=!!d.invoice_received,u.on_qs=d.on_qs||"no",u.qs_invoice_date=d.qs_invoice_date||"",u.disputed=!!d.disputed,u.dispute_outcome=d.dispute_outcome||"",u.repairs_made=d.repairs_made||"",u.area_of_concerns=[],d.areas_of_concern&&Array.isArray(d.areas_of_concern)&&(u.area_of_concerns=d.areas_of_concern.map(e=>e.id)),ge.value="Edit Repair Order",F.value="Update",z.value=!0},Le=()=>{u.reset(),z.value=!1},Ee=()=>{const d=f.SuperAdmin?route("repair_orders.store.admin"):route("repair_orders.store",f.tenantSlug);if(F.value==="Update"&&u.id){const e=f.SuperAdmin?route("repair_orders.update.admin",u.id):route("repair_orders.update",[f.tenantSlug,u.id]);u.put(e,{onSuccess:()=>{$.value="Repair order updated successfully!",z.value=!1,u.reset()}})}else u.post(d,{onSuccess:()=>{$.value="Repair order created successfully!",z.value=!1,u.reset()}})},Ye=d=>{pe.value=d,se.value=!0},He=()=>{const d=f.SuperAdmin?route("repair_orders.destroy.admin",pe.value):route("repair_orders.destroy",[f.tenantSlug,pe.value]);O.delete(d,{onSuccess:()=>{se.value=!1,pe.value=null}})},Ke=()=>{ae.reset(),me.value=!0},Xe=()=>{ae.post(route("area_of_concerns.store.admin"),{onSuccess:()=>{ae.reset()}})},Ge=d=>{confirm("Are you sure you want to delete this area of concern?")&&O.delete(route("area_of_concerns.destroy.admin",d))},Je=d=>{confirm("Are you sure you want to restore this area of concern?")&&O.post(route("area_of_concerns.restore.admin",d))},Ze=d=>{confirm("Are you sure you want to permanently delete this area of concern? This action cannot be undone.")&&O.delete(route("area_of_concerns.forceDelete.admin",d))},et=()=>{oe.reset(),fe.value=!0},tt=()=>{oe.post(route("vendors.store.admin"),{onSuccess:()=>{oe.reset()}})},st=d=>{confirm("Are you sure you want to delete this vendor?")&&O.delete(route("vendors.destroy.admin",d))},lt=d=>{confirm("Are you sure you want to restore this vendor?")&&O.post(route("vendors.restore.admin",d))},at=d=>{confirm("Are you sure you want to permanently delete this vendor? This action cannot be undone.")&&O.delete(route("vendors.forceDelete.admin",d))},ot=d=>{const e=parseInt(d.target.value);e&&!u.area_of_concerns.includes(e)&&u.area_of_concerns.push(e),d.target.value=""},nt=d=>{u.area_of_concerns=u.area_of_concerns.filter(e=>e!==d)};function rt(d){if(d){const e=new URL(d),D=e.origin+e.pathname;O.get(D,{...S.value,perPage:H.value,dateFilter:h.value,page:e.searchParams.get("page")||1})}}const we=d=>{Y.value===d?T.value=T.value==="asc"?"desc":"asc":(Y.value=d,T.value="asc");const e=f.SuperAdmin?route("repair_orders.index.admin"):route("repair_orders.index",f.tenantSlug);O.get(e,{sort:Y.value,direction:T.value,...S.value},{preserveState:!0})},De=()=>{const d=f.SuperAdmin?route("repair_orders.index.admin"):route("repair_orders.index",f.tenantSlug);O.get(d,{...S.value,perPage:H.value,dateFilter:h.value})},dt=()=>{S.value={search:"",vendor_id:"",status:""},De()},ce=d=>{h.value=d;const e=f.tenantSlug?route("repair_orders.index",{tenantSlug:f.tenantSlug}):route("repair_orders.index.admin");O.get(e,{...S.value,perPage:H.value,dateFilter:d})},ut=()=>{const d=f.tenantSlug?route("repair_orders.index",{tenantSlug:f.tenantSlug}):route("repair_orders.index.admin");O.get(d,{...S.value,perPage:H.value,dateFilter:h.value})},it=d=>{const e=d.target.files[0];if(!e)return;const D=new FormData;D.append("file",e);const q=f.SuperAdmin?route("repair_orders.import.admin"):route("repair_orders.import",f.tenantSlug);O.post(q,D,{onSuccess:()=>{$.value="Import completed successfully!",d.target.value=null},onError:a=>{console.error("Import errors:",a)}})},mt=()=>{if(f.repairOrders.data.length===0){ie.value="No data available to export",setTimeout(()=>{ie.value=""},3e3);return}window.location.href=f.SuperAdmin?route("repair_orders.export.admin"):route("repair_orders.export",f.tenantSlug)},X=d=>{if(!d)return"";const e=d.split("-");if(e.length!==3)return d;const[D,q,a]=e;return`${Number(q)}/${Number(a)}/${D}`},ye=d=>d?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d):"$0.00",ne=k(!1),ft=M(()=>"/storage/upload-data-temps/Repair Orders Template.csv"),$e=M(()=>f.repairOrders.data&&f.repairOrders.data.length>0);yt(()=>{const d=e=>{ne.value&&!e.target.closest(".relative")&&(ne.value=!1)};document.addEventListener("click",d),bt(()=>{document.removeEventListener("click",d)})});function pt(){ue.value=!0,te.value={name:""}}function ct(){O.post(route("wo_statuses.store.admin"),te.value,{onSuccess:()=>{te.value.name="",$.value="Work order status created successfully.",setTimeout(()=>{$.value=""},3e3)}})}function vt(d){confirm("Are you sure you want to delete this work order status?")&&O.delete(route("wo_statuses.destroy.admin",d),{onSuccess:()=>{$.value="Work order status deleted successfully.",setTimeout(()=>{$.value=""},3e3)}})}function xt(d){O.post(route("wo_statuses.restore.admin",d),{},{onSuccess:()=>{$.value="Work order status restored successfully.",setTimeout(()=>{$.value=""},3e3)}})}function _t(d){confirm("Are you sure you want to permanently delete this work order status? This action cannot be undone.")&&O.delete(route("wo_statuses.forceDelete.admin",d),{onSuccess:()=>{$.value="Work order status permanently deleted.",setTimeout(()=>{$.value=""},3e3)}})}const gt=M(()=>f.canceledQSInvoices.length>0),ve=k(!1),be=k(f.initialMinInvoiceAmount||null),ke=k(f.initialOutstandingDate||null),G=k(!1),wt=()=>{O.visit(route("repair_orders.index",{tenantSlug:f.tenantSlug,dateFilter:h.value,minInvoiceAmount:be.value||null,outstandingDate:ke.value||null}),{preserveState:!0,preserveScroll:!0,only:["maintenanceData"]})};return(d,e)=>{const D=kt("Badge");return r(),g(At,{breadcrumbs:We,tenantSlug:v.tenantSlug,permissions:f.permissions},{default:l(()=>{var q;return[s(t(Ot),{title:"Repair Orders"}),o("div",Vt,[$.value?(r(),g(t(Ie),{key:0,variant:"success"},{default:l(()=>[s(t(Re),null,{default:l(()=>e[53]||(e[53]=[n("Success")])),_:1}),s(t(Me),null,{default:l(()=>[n(m($.value),1)]),_:1})]),_:1})):p("",!0),ie.value?(r(),g(t(Ie),{key:1,variant:"destructive"},{default:l(()=>[s(t(Re),null,{default:l(()=>e[54]||(e[54]=[n("Error")])),_:1}),s(t(Me),null,{default:l(()=>[n(m(ie.value),1)]),_:1})]),_:1})):p("",!0),o("div",Dt,[e[62]||(e[62]=o("h1",{class:"text-lg font-bold md:text-xl lg:text-2xl"},"Repair Orders",-1)),o("div",$t,[s(t(x),{class:"px-2 py-0 md:px-4 md:py-2",onClick:Pe,variant:"default"},{default:l(()=>[s(y,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),e[55]||(e[55]=n(" Create New Repair Order "))]),_:1}),I.value.length>0?(r(),g(t(x),{key:0,onClick:e[0]||(e[0]=a=>Te()),variant:"destructive"},{default:l(()=>[s(y,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),n(" Delete Selected ("+m(I.value.length)+") ",1)]),_:1})):p("",!0),v.SuperAdmin?(r(),g(t(x),{key:1,class:"px-2 py-0 md:px-4 md:py-2",onClick:Ke,variant:"outline"},{default:l(()=>[s(y,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),e[56]||(e[56]=n(" Manage Areas of Concern "))]),_:1})):p("",!0),v.SuperAdmin?(r(),g(t(x),{key:2,class:"px-2 py-0 md:px-4 md:py-2",onClick:et,variant:"outline"},{default:l(()=>[s(y,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),e[57]||(e[57]=n(" Manage Vendors "))]),_:1})):p("",!0),v.SuperAdmin?(r(),g(t(x),{key:3,class:"px-2 py-0 md:px-4 md:py-2",onClick:pt,variant:"outline"},{default:l(()=>[s(y,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),e[58]||(e[58]=n(" Manage WO Statuses "))]),_:1})):p("",!0),o("div",Nt,[s(t(x),{class:"px-2 py-0 md:px-4 md:py-2",onClick:e[1]||(e[1]=a=>ne.value=!ne.value),variant:"secondary"},{default:l(()=>[s(y,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),e[59]||(e[59]=n(" Upload CSV ")),s(y,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1}),ne.value?(r(),i("div",Ut,[o("div",It,[o("label",Rt,[e[60]||(e[60]=o("span",null,"Upload CSV File",-1)),o("input",{type:"file",class:"hidden",onChange:it,accept:".csv"},null,32)]),o("a",{href:ft.value,download:"Repair Orders Template.csv",class:"block px-4 py-2 text-sm hover:bg-muted"}," Download Template ",8,Mt)])])):p("",!0)]),s(t(x),{class:"px-2 py-0 md:px-4 md:py-2",onClick:re(mt,["prevent"]),variant:"outline"},{default:l(()=>[s(y,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),e[61]||(e[61]=n(" Download CSV "))]),_:1})])]),gt.value&&!v.SuperAdmin?(r(),i("div",Wt,[o("div",qt,[o("div",zt,[o("div",Ft,[o("div",Tt,[s(y,{name:"triangleAlert",class:"h-6 w-6 text-red-600 dark:text-red-300"})])]),o("div",Bt,[e[64]||(e[64]=o("h3",{class:"text-lg font-medium text-red-800 dark:text-red-300"},"Attention Required",-1)),o("div",jt,m(((q=f.canceledQSInvoices)==null?void 0:q.length)||0)+" invoices found with canceled WO status but still on QS. These need immediate attention. ",1),o("div",Pt,[s(t(x),{onClick:e[2]||(e[2]=a=>ve.value=!0),variant:"destructive",size:"sm"},{default:l(()=>e[63]||(e[63]=[n(" View Details ")])),_:1})])])])])])):p("",!0),s(t(Ce),null,{default:l(()=>[s(t(Ae),{class:"p-2 md:p-4 lg:p-6"},{default:l(()=>[o("div",Qt,[o("div",Lt,[s(t(x),{onClick:e[3]||(e[3]=a=>ce("yesterday")),variant:"outline",size:"sm",class:de({"border-primary bg-primary/10 text-primary":h.value==="yesterday"})},{default:l(()=>e[65]||(e[65]=[n(" Yesterday ")])),_:1},8,["class"]),s(t(x),{onClick:e[4]||(e[4]=a=>ce("current-week")),variant:"outline",size:"sm",class:de({"border-primary bg-primary/10 text-primary":h.value==="current-week"})},{default:l(()=>e[66]||(e[66]=[n(" WTD ")])),_:1},8,["class"]),s(t(x),{onClick:e[5]||(e[5]=a=>ce("6w")),variant:"outline",size:"sm",class:de({"border-primary bg-primary/10 text-primary":h.value==="6w"})},{default:l(()=>e[67]||(e[67]=[n(" T6W ")])),_:1},8,["class"]),s(t(x),{onClick:e[6]||(e[6]=a=>ce("quarterly")),variant:"outline",size:"sm",class:de({"border-primary bg-primary/10 text-primary":h.value==="quarterly"})},{default:l(()=>e[68]||(e[68]=[n(" Quarterly ")])),_:1},8,["class"])]),v.dateRange?(r(),i("div",Et,[h.value==="yesterday"&&v.dateRange.start?(r(),i("span",Yt," Showing data from "+m(X(v.dateRange.start)),1)):v.dateRange.start&&v.dateRange.end?(r(),i("span",Ht," Showing data from "+m(X(v.dateRange.start))+" to "+m(X(v.dateRange.end)),1)):(r(),i("span",Kt,m(v.dateRange.label),1)),Oe.value?(r(),i("span",Xt,"("+m(Oe.value)+")",1)):p("",!0)])):p("",!0)])]),_:1})]),_:1}),(h.value==="quarterly"||h.value==="6w")&&!v.SuperAdmin?(r(),i("div",Gt,[o("div",Jt,[e[70]||(e[70]=o("div",{class:"border-b p-4"},[o("h3",{class:"text-lg font-semibold"},"Top 5 Frequent Repairs")],-1)),o("div",Zt,[o("ul",es,[e[69]||(e[69]=o("div",{class:"flex items-center justify-between"},[o("span",{class:"text-sm"},"Parts:"),o("span",{class:"text-sm"},"Work Orders:")],-1)),(r(!0),i(C,null,A(he.value,(a,c)=>(r(),i("li",{key:c,class:"flex items-center justify-between pr-4"},[o("span",ts,m(a.concern),1),s(D,{variant:"outline"},{default:l(()=>[n(m(a.count),1)]),_:2},1024)]))),128)),he.value.length===0?(r(),i("li",ss,"No data available")):p("",!0)])])]),o("div",ls,[e[72]||(e[72]=o("div",{class:"border-b p-4"},[o("h3",{class:"text-lg font-semibold"},"Top 5 Frequently Repaired Tractors")],-1)),o("div",as,[o("ul",os,[e[71]||(e[71]=o("div",{class:"flex items-center justify-between"},[o("span",{class:"text-sm"},"Asset ID:"),o("span",{class:"text-sm"},"Work Orders:")],-1)),(r(!0),i(C,null,A(Ve.value,(a,c)=>(r(),i("li",{key:c,class:"flex items-center justify-between pr-4"},[o("span",ns,m(a.truckid),1),s(D,{variant:"outline"},{default:l(()=>[n(m(a.work_order_count),1)]),_:2},1024)]))),128)),Ve.value.length===0?(r(),i("li",rs,"No data available")):p("",!0)])])])])):p("",!0),v.SuperAdmin?p("",!0):(r(),i("div",ds,[e[76]||(e[76]=o("h3",{class:"mb-4 text-lg font-semibold"},"Outstanding Invoices Filter",-1)),o("div",us,[o("div",null,[s(t(b),{for:"min-invoice-amount"},{default:l(()=>e[73]||(e[73]=[n("Minimum Invoice Amount ($)")])),_:1}),s(t(U),{id:"min-invoice-amount",modelValue:be.value,"onUpdate:modelValue":e[7]||(e[7]=a=>be.value=a),type:"number",min:"0",step:"100",placeholder:"Enter minimum amount",class:"mt-1"},null,8,["modelValue"])]),o("div",null,[s(t(b),{for:"outstanding-since"},{default:l(()=>e[74]||(e[74]=[n("Outstanding Since")])),_:1}),s(t(U),{id:"outstanding-since",modelValue:ke.value,"onUpdate:modelValue":e[8]||(e[8]=a=>ke.value=a),type:"date",class:"mt-1"},null,8,["modelValue"])])]),o("div",is,[s(t(x),{onClick:wt},{default:l(()=>e[75]||(e[75]=[n("Apply Filter")])),_:1})])])),v.outstandingInvoices&&v.outstandingInvoices.length>0?(r(),i("div",ms,[o("div",fs,[e[77]||(e[77]=o("h3",{class:"text-lg font-semibold"},"Outstanding Invoices",-1)),o("div",ps,[o("div",cs,[s(D,{variant:"outline",class:"text-sm"},{default:l(()=>[n(m(v.outstandingInvoices.length)+" invoices ",1)]),_:1}),s(D,{variant:"outline",class:"text-sm"},{default:l(()=>[n(" total: $"+m(qe.value.toFixed(2)),1)]),_:1})]),s(t(x),{variant:"ghost",size:"sm",onClick:e[9]||(e[9]=a=>G.value=!G.value),class:"ml-4 mt-1"},{default:l(()=>[n(m(G.value?"Hide Invoices":"Show Invoices")+" ",1),s(y,{name:G.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]),G.value?(r(),i("div",vs,[o("div",xs,[o("div",_s,[s(t(J),{class:"min-w-full"},{default:l(()=>[s(t(Z),null,{default:l(()=>[s(t(V),null,{default:l(()=>[s(t(w),null,{default:l(()=>e[78]||(e[78]=[n("RO Number")])),_:1}),s(t(w),null,{default:l(()=>e[79]||(e[79]=[n("Vendor")])),_:1}),s(t(w),null,{default:l(()=>e[80]||(e[80]=[n("Week")])),_:1}),s(t(w),{class:"text-right"},{default:l(()=>e[81]||(e[81]=[n("Amount")])),_:1})]),_:1})]),_:1}),s(t(ee),null,{default:l(()=>[(r(!0),i(C,null,A(v.outstandingInvoices,a=>(r(),g(t(V),{key:a.ro_number},{default:l(()=>[s(t(_),null,{default:l(()=>[n(m(a.ro_number),1)]),_:2},1024),s(t(_),null,{default:l(()=>[n(m(a.vendor_name),1)]),_:2},1024),s(t(_),null,{default:l(()=>[n("W"+m(a.week_number)+"/"+m(a.year),1)]),_:2},1024),s(t(_),{class:"text-right"},{default:l(()=>[n(m(ye(a.invoice_amount)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])):p("",!0)])):G.value?(r(),i("div",gs,e[82]||(e[82]=[o("div",{class:"border-b p-4"},[o("h3",{class:"text-lg font-semibold"},"Outstanding Invoices")],-1),o("div",{class:"p-4 text-center text-muted-foreground"},"No outstanding invoices match the current criteria",-1)]))):p("",!0),s(t(Ce),null,{default:l(()=>[s(t(St),{class:"p-2 md:p-4 lg:p-6"},{default:l(()=>{var a,c;return[o("div",ws,[o("div",ys,[s(t(Ct),{class:"text-lg md:text-xl lg:text-2xl"},{default:l(()=>e[83]||(e[83]=[n("Filters")])),_:1}),!K.value&&(S.value.search||S.value.vendor_id||S.value.status)?(r(),i("div",bs,[S.value.search?(r(),i("span",ks,"Search: "+m(S.value.search),1)):p("",!0),S.value.vendor_id?(r(),i("span",Ss,"Vendor: "+m(((a=v.vendors.find(R=>R.id==S.value.vendor_id))==null?void 0:a.vendor_name)||S.value.vendor_id),1)):p("",!0),S.value.status_id?(r(),i("span",Cs," Status: "+m(((c=v.woStatuses.find(R=>R.id==S.value.status_id))==null?void 0:c.name)||S.value.status_id),1)):p("",!0)])):p("",!0)]),s(t(x),{variant:"ghost",size:"sm",onClick:e[10]||(e[10]=R=>K.value=!K.value)},{default:l(()=>[n(m(K.value?"Hide Filters":"Show Filters")+" ",1),s(y,{name:K.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]}),_:1}),K.value?(r(),g(t(Ae),{key:0,class:"p-2 md:p-4 lg:p-6"},{default:l(()=>[o("div",As,[o("div",Os,[o("div",null,[s(t(b),{for:"search"},{default:l(()=>e[84]||(e[84]=[n("Search")])),_:1}),s(t(U),{class:"h-9 px-1 py-1 md:px-2 md:py-1 lg:h-10 lg:px-3 lg:py-2",id:"search",modelValue:S.value.search,"onUpdate:modelValue":e[11]||(e[11]=a=>S.value.search=a),type:"text",placeholder:"Search by RO#, Invoice, WO#..."},null,8,["modelValue"])]),o("div",null,[s(t(b),{for:"vendor_filter"},{default:l(()=>e[85]||(e[85]=[n("Vendor")])),_:1}),N(o("select",{id:"vendor_filter","onUpdate:modelValue":e[12]||(e[12]=a=>S.value.vendor_id=a),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm"},[e[86]||(e[86]=o("option",{value:""},"All Vendors",-1)),(r(!0),i(C,null,A(v.vendors,a=>(r(),i("option",{key:a.id,value:a.id},[n(m(a.vendor_name)+" ",1),a.deleted_at?(r(),i("span",Vs,"(Deleted)")):p("",!0)],8,hs))),128))],512),[[W,S.value.vendor_id]])]),o("div",null,[s(t(b),{for:"status_filter"},{default:l(()=>e[87]||(e[87]=[n("Status")])),_:1}),N(o("select",{id:"status_filter","onUpdate:modelValue":e[13]||(e[13]=a=>S.value.status_id=a),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm"},[e[88]||(e[88]=o("option",{value:""},"All Statuses",-1)),(r(!0),i(C,null,A(v.woStatuses,a=>(r(),i("option",{key:a.id,value:a.id},[n(m(a.name)+" ",1),a.deleted_at?(r(),i("span",$s,"(Deleted)")):p("",!0)],8,Ds))),128))],512),[[W,S.value.status_id]])])]),o("div",Ns,[s(t(x),{onClick:dt,variant:"ghost",size:"sm"},{default:l(()=>[s(y,{name:"rotate_ccw",class:"mr-2 h-4 w-4"}),e[89]||(e[89]=n(" Reset Filters "))]),_:1}),s(t(x),{onClick:De,variant:"default",size:"sm"},{default:l(()=>[s(y,{name:"filter",class:"mr-2 h-4 w-4"}),e[90]||(e[90]=n(" Apply Filters "))]),_:1})])])]),_:1})):p("",!0)]),_:1}),$e.value?p("",!0):(r(),i("div",Us,[s(y,{name:"database-x",class:"mb-4 h-16 w-16 text-muted-foreground"}),e[91]||(e[91]=o("h2",{class:"text-center text-2xl font-bold text-muted-foreground"},"There is No Data to give Information about.",-1))])),$e.value?(r(),g(t(Ce),{key:8,class:"mx-auto max-w-[95vw] overflow-x-auto md:max-w-[64vw] lg:max-w-full"},{default:l(()=>[s(t(Ae),{class:"p-0"},{default:l(()=>[o("div",Is,[s(t(J),{class:"relative h-[600px] overflow-auto"},{default:l(()=>[s(t(Z),null,{default:l(()=>[s(t(V),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:l(()=>[s(t(w),{class:"w-[50px]"},{default:l(()=>[o("div",Rs,[o("input",{type:"checkbox",onChange:Fe,checked:ze.value,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,Ms)])]),_:1}),s(t(w),{class:"cursor-pointer whitespace-nowrap",onClick:e[14]||(e[14]=a=>we("ro_number"))},{default:l(()=>[o("div",Ws,[e[92]||(e[92]=n(" RO# ")),s(Se,{column:"ro_number",sortColumn:Y.value,sortDirection:T.value},null,8,["sortColumn","sortDirection"])])]),_:1}),v.SuperAdmin?(r(),g(t(w),{key:0,class:"whitespace-nowrap"},{default:l(()=>e[93]||(e[93]=[n("Company Name")])),_:1})):p("",!0),s(t(w),{class:"cursor-pointer whitespace-nowrap",onClick:e[15]||(e[15]=a=>we("ro_open_date"))},{default:l(()=>[o("div",qs,[e[94]||(e[94]=n(" Open Date ")),s(Se,{column:"ro_open_date",sortColumn:Y.value,sortDirection:T.value},null,8,["sortColumn","sortDirection"])])]),_:1}),s(t(w),{class:"cursor-pointer whitespace-nowrap",onClick:e[16]||(e[16]=a=>we("ro_close_date"))},{default:l(()=>[o("div",zs,[e[95]||(e[95]=n(" Close Date ")),s(Se,{column:"ro_close_date",sortColumn:Y.value,sortDirection:T.value},null,8,["sortColumn","sortDirection"])])]),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[96]||(e[96]=[n("Truck")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[97]||(e[97]=[n("Vendor")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[98]||(e[98]=[n("Areas of Concern")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[99]||(e[99]=[n("WO#")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[100]||(e[100]=[n("WO Status")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[101]||(e[101]=[n("Invoice")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[102]||(e[102]=[n("Invoice Amount")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[103]||(e[103]=[n("Invoice Received")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[104]||(e[104]=[n("On QS")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[105]||(e[105]=[n("QS Invoice Date")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[106]||(e[106]=[n("Disputed")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[107]||(e[107]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(t(ee),null,{default:l(()=>[v.repairOrders.data.length===0?(r(),g(t(V),{key:0},{default:l(()=>[s(t(_),{colspan:v.SuperAdmin?16:15,class:"py-8 text-center"},{default:l(()=>e[108]||(e[108]=[n(" No repair orders found. ")])),_:1},8,["colspan"])]),_:1})):p("",!0),(r(!0),i(C,null,A(v.repairOrders.data,a=>(r(),g(t(V),{key:a.id,class:"hover:bg-muted/50"},{default:l(()=>[s(t(_),{class:"text-center"},{default:l(()=>[N(o("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":e[17]||(e[17]=c=>I.value=c),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,Fs),[[Ne,I.value]])]),_:2},1024),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.ro_number),1)]),_:2},1024),v.SuperAdmin?(r(),g(t(_),{key:0,class:"whitespace-nowrap"},{default:l(()=>{var c;return[n(m(((c=a.tenant)==null?void 0:c.name)??"—"),1)]}),_:2},1024)):p("",!0),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>[n(m(X(a.ro_open_date)),1)]),_:2},1024),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.ro_close_date?X(a.ro_close_date):"N/A"),1)]),_:2},1024),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>{var c;return[n(m(((c=a.truck)==null?void 0:c.truckid)??"—"),1)]}),_:2},1024),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>{var c,R;return[n(m(((c=a.vendor)==null?void 0:c.vendor_name)??"—")+" ",1),(R=a.vendor)!=null&&R.deleted_at?(r(),i("span",Ts,"(Deleted)")):p("",!0)]}),_:2},1024),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>[a.areas_of_concern&&a.areas_of_concern.length>0?(r(),i("div",Bs,[(r(!0),i(C,null,A(a.areas_of_concern,(c,R)=>(r(),i("span",{key:c.id,class:"inline-block"},[n(m(c.concern)+" ",1),c.deleted_at?(r(),i("span",js,"(Deleted)")):p("",!0),R<a.areas_of_concern.length-1?(r(),i("span",Ps,", ")):p("",!0)]))),128))])):(r(),i("span",Qs,"—"))]),_:2},1024),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.wo_number),1)]),_:2},1024),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>{var c;return[n(m(((c=a.wo_status)==null?void 0:c.name)||"—"),1)]}),_:2},1024),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.invoice),1)]),_:2},1024),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>[n(m(ye(a.invoice_amount)),1)]),_:2},1024),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.invoice_received?"Yes":"No"),1)]),_:2},1024),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.on_qs?a.on_qs.charAt(0).toUpperCase()+a.on_qs.slice(1):"No"),1)]),_:2},1024),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.qs_invoice_date?X(a.qs_invoice_date):"N/A"),1)]),_:2},1024),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.disputed?"Yes":"No"),1)]),_:2},1024),s(t(_),null,{default:l(()=>[o("div",Ls,[s(t(x),{onClick:c=>Qe(a),variant:"warning",size:"sm"},{default:l(()=>[s(y,{name:"pencil",class:"mr-1 h-4 w-4"}),e[109]||(e[109]=n(" Edit "))]),_:2},1032,["onClick"]),s(t(x),{onClick:c=>Ye(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"mr-1 h-4 w-4"}),e[110]||(e[110]=n(" Delete "))]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),v.repairOrders.links?(r(),i("div",Es,[o("div",Ys,[o("div",Hs,"Showing "+m(v.repairOrders.data.length)+" entries",1),o("div",Ks,[o("div",Xs,[s(t(b),{for:"perPage",class:"text-sm"},{default:l(()=>e[111]||(e[111]=[n("Per page:")])),_:1}),N(o("select",{id:"perPage","onUpdate:modelValue":e[18]||(e[18]=a=>H.value=a),onChange:ut,class:"h-8 rounded-md border border-input bg-background px-2 py-1 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},e[112]||(e[112]=[o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1),o("option",{value:"100"},"100",-1)]),544),[[W,H.value]])]),o("div",Gs,[(r(!0),i(C,null,A(v.repairOrders.links,a=>(r(),g(t(x),{key:a.label,onClick:c=>rt(a.url),disabled:!a.url,variant:"ghost",size:"sm",class:de(["mx-1",{"border-primary bg-primary/10 text-primary":a.active}])},{default:l(()=>[o("span",{innerHTML:a.label},null,8,Js)]),_:2},1032,["onClick","disabled","class"]))),128))])])])])):p("",!0)]),_:1})]),_:1})):p("",!0),s(t(B),{open:z.value,"onUpdate:open":e[36]||(e[36]=a=>z.value=a)},{default:l(()=>[s(t(j),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:l(()=>[s(t(Q),{class:"px-4 sm:px-6"},{default:l(()=>[s(t(L),{class:"text-lg sm:text-xl"},{default:l(()=>[n(m(ge.value),1)]),_:1}),s(t(P),{class:"text-xs sm:text-sm"},{default:l(()=>[n(" Fill in the details to "+m(F.value.toLowerCase())+" a repair order. ",1)]),_:1})]),_:1}),o("form",{onSubmit:re(Ee,["prevent"]),class:"grid max-h-[75vh] grid-cols-1 gap-2 overflow-y-auto p-4 sm:grid-cols-2 sm:gap-3 sm:p-6"},[v.SuperAdmin?(r(),i("div",Zs,[s(t(b),{for:"tenant",class:"text-xs sm:text-sm"},{default:l(()=>e[113]||(e[113]=[n("Company Name")])),_:1}),o("div",el,[N(o("select",{id:"tenant","onUpdate:modelValue":e[19]||(e[19]=a=>t(u).tenant_id=a),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[114]||(e[114]=o("option",{disabled:"",value:""},"Select a tenant",-1)),(r(!0),i(C,null,A(v.tenants,a=>(r(),i("option",{key:a.id,value:a.id},m(a.name),9,tl))),128))],512),[[W,t(u).tenant_id]]),e[115]||(e[115]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):p("",!0),o("div",sl,[s(t(b),{for:"ro_number",class:"text-xs sm:text-sm"},{default:l(()=>e[116]||(e[116]=[n("RO#")])),_:1}),s(t(U),{id:"ro_number",modelValue:t(u).ro_number,"onUpdate:modelValue":e[20]||(e[20]=a=>t(u).ro_number=a),type:"text",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),o("div",ll,[s(t(b),{for:"ro_open_date",class:"text-xs sm:text-sm"},{default:l(()=>e[117]||(e[117]=[n("RO Open Date")])),_:1}),s(t(U),{id:"ro_open_date",modelValue:t(u).ro_open_date,"onUpdate:modelValue":e[21]||(e[21]=a=>t(u).ro_open_date=a),type:"date",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),o("div",al,[s(t(b),{for:"ro_close_date",class:"text-xs sm:text-sm"},{default:l(()=>e[118]||(e[118]=[n("RO Close Date")])),_:1}),s(t(U),{id:"ro_close_date",modelValue:t(u).ro_close_date,"onUpdate:modelValue":e[22]||(e[22]=a=>t(u).ro_close_date=a),type:"date",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),o("div",ol,[s(t(b),{for:"truck_id",class:"text-xs sm:text-sm"},{default:l(()=>e[119]||(e[119]=[n("Truck")])),_:1}),o("div",nl,[N(o("select",{id:"truck_id","onUpdate:modelValue":e[23]||(e[23]=a=>t(u).truck_id=a),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[120]||(e[120]=o("option",{disabled:"",value:""},"Select a truck",-1)),(r(!0),i(C,null,A(v.trucks,a=>(r(),i("option",{key:a.id,value:a.id},m(a.truckid),9,rl))),128))],512),[[W,t(u).truck_id]]),e[121]||(e[121]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),o("div",dl,[s(t(b),{for:"area_of_concerns",class:"text-xs sm:text-sm"},{default:l(()=>e[122]||(e[122]=[n("Areas Of Concern")])),_:1}),o("div",ul,[o("div",il,[(r(!0),i(C,null,A(t(u).area_of_concerns,a=>{var c,R;return r(),i("div",{key:a,class:"flex items-center rounded-md bg-primary/10 px-1.5 py-0.5 text-xs text-primary sm:px-2 sm:py-1 sm:text-sm"},[n(m((c=v.areasOfConcern.find(xe=>xe.id===a))==null?void 0:c.concern)+" ",1),(R=v.areasOfConcern.find(xe=>xe.id===a))!=null&&R.deleted_at?(r(),i("span",ml,"(Deleted)")):p("",!0),o("button",{type:"button",onClick:xe=>nt(a),class:"ml-0.5 text-primary hover:text-primary/80 sm:ml-1"},[s(y,{name:"x",class:"h-2.5 w-2.5 sm:h-3 sm:w-3"})],8,fl)])}),128))]),o("div",pl,[o("select",{id:"area_of_concerns_select",onChange:e[24]||(e[24]=a=>ot(a)),class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[123]||(e[123]=o("option",{value:""},"Select an area of concern to add",-1)),(r(!0),i(C,null,A(je.value,a=>(r(),i("option",{key:a.id,value:a.id,disabled:a.deleted_at},m(a.concern)+" "+m(a.deleted_at?"(Deleted)":""),9,cl))),128))],32),e[124]||(e[124]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),o("div",vl,[s(t(b),{for:"repairs_made",class:"text-xs sm:text-sm"},{default:l(()=>e[125]||(e[125]=[n("Repairs Made")])),_:1}),N(o("textarea",{id:"repairs_made","onUpdate:modelValue":e[25]||(e[25]=a=>t(u).repairs_made=a),class:"mt-1 flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-1.5 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:min-h-[80px] sm:text-sm"},null,512),[[Ue,t(u).repairs_made]])]),o("div",xl,[s(t(b),{for:"vendor_id",class:"text-xs sm:text-sm"},{default:l(()=>e[126]||(e[126]=[n("Vendor")])),_:1}),o("div",_l,[N(o("select",{id:"vendor_id","onUpdate:modelValue":e[26]||(e[26]=a=>t(u).vendor_id=a),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[127]||(e[127]=o("option",{disabled:"",value:""},"Select a vendor",-1)),(r(!0),i(C,null,A(v.vendors,a=>(r(),i("option",{key:a.id,value:a.id,disabled:a.deleted_at},m(a.vendor_name)+" "+m(a.deleted_at?"(Deleted)":""),9,gl))),128))],512),[[W,t(u).vendor_id]]),e[128]||(e[128]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),o("div",wl,[s(t(b),{for:"wo_number",class:"text-xs sm:text-sm"},{default:l(()=>e[129]||(e[129]=[n("WO#")])),_:1}),s(t(U),{id:"wo_number",modelValue:t(u).wo_number,"onUpdate:modelValue":e[27]||(e[27]=a=>t(u).wo_number=a),type:"text",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),o("div",yl,[s(t(b),{for:"wo_status_id",class:"text-xs sm:text-sm"},{default:l(()=>e[130]||(e[130]=[n("WO Status")])),_:1}),o("div",bl,[N(o("select",{id:"wo_status_id","onUpdate:modelValue":e[28]||(e[28]=a=>t(u).wo_status_id=a),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[131]||(e[131]=o("option",{disabled:"",value:""},"Select status",-1)),(r(!0),i(C,null,A(v.woStatuses,a=>(r(),i("option",{key:a.id,value:a.id,disabled:a.deleted_at},m(a.name)+" "+m(a.deleted_at?"(Deleted)":""),9,kl))),128))],512),[[W,t(u).wo_status_id]]),e[132]||(e[132]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),o("div",Sl,[s(t(b),{for:"invoice",class:"text-xs sm:text-sm"},{default:l(()=>e[133]||(e[133]=[n("Invoice")])),_:1}),s(t(U),{id:"invoice",modelValue:t(u).invoice,"onUpdate:modelValue":e[29]||(e[29]=a=>t(u).invoice=a),type:"text",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),o("div",Cl,[s(t(b),{for:"invoice_amount",class:"text-xs sm:text-sm"},{default:l(()=>e[134]||(e[134]=[n("Invoice Amount")])),_:1}),s(t(U),{id:"invoice_amount",modelValue:t(u).invoice_amount,"onUpdate:modelValue":e[30]||(e[30]=a=>t(u).invoice_amount=a),type:"number",step:"0.01",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),o("div",Al,[s(t(b),{for:"invoice_received",class:"text-xs sm:text-sm"},{default:l(()=>e[135]||(e[135]=[n("Invoice Received")])),_:1}),o("div",Ol,[N(o("input",{id:"invoice_received","onUpdate:modelValue":e[31]||(e[31]=a=>t(u).invoice_received=a),type:"checkbox",class:"h-3.5 w-3.5 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary sm:h-4 sm:w-4"},null,512),[[Ne,t(u).invoice_received]]),e[136]||(e[136]=o("label",{for:"invoice_received",class:"text-xs sm:text-sm"},"Yes",-1))])]),o("div",hl,[s(t(b),{for:"on_qs",class:"text-xs sm:text-sm"},{default:l(()=>e[137]||(e[137]=[n("On QS")])),_:1}),o("div",Vl,[N(o("select",{id:"on_qs","onUpdate:modelValue":e[32]||(e[32]=a=>t(u).on_qs=a),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},e[138]||(e[138]=[o("option",{value:"yes"},"Yes",-1),o("option",{value:"no"},"No",-1),o("option",{value:"not expected"},"Not Expected",-1)]),512),[[W,t(u).on_qs]]),e[139]||(e[139]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),o("div",Dl,[s(t(b),{for:"qs_invoice_date",class:"text-xs sm:text-sm"},{default:l(()=>e[140]||(e[140]=[n("QS Invoice Date")])),_:1}),s(t(U),{id:"qs_invoice_date",modelValue:t(u).qs_invoice_date,"onUpdate:modelValue":e[33]||(e[33]=a=>t(u).qs_invoice_date=a),type:"date",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),F.value==="Update"?(r(),i("div",$l,[s(t(b),{for:"disputed",class:"text-xs sm:text-sm"},{default:l(()=>e[141]||(e[141]=[n("Disputed?")])),_:1}),o("div",Nl,[N(o("select",{id:"disputed","onUpdate:modelValue":e[34]||(e[34]=a=>t(u).disputed=a),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},e[142]||(e[142]=[o("option",{value:!0},"Yes",-1),o("option",{value:!1},"No",-1)]),512),[[W,t(u).disputed]]),e[143]||(e[143]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):p("",!0),F.value==="Update"?(r(),i("div",Ul,[s(t(b),{for:"dispute_outcome",class:"text-xs sm:text-sm"},{default:l(()=>e[144]||(e[144]=[n("Dispute Outcome")])),_:1}),N(o("textarea",{id:"dispute_outcome","onUpdate:modelValue":e[35]||(e[35]=a=>t(u).dispute_outcome=a),class:"mt-1 flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-1.5 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:min-h-[80px] sm:text-sm"},null,512),[[Ue,t(u).dispute_outcome]])])):p("",!0),s(t(E),{class:"col-span-2 mt-3 flex flex-col gap-2 sm:flex-row sm:gap-3"},{default:l(()=>[s(t(x),{type:"button",onClick:Le,variant:"outline",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>e[145]||(e[145]=[n("Cancel")])),_:1}),s(t(x),{type:"submit",variant:"default",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>[n(m(F.value),1)]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"]),s(t(B),{open:se.value,"onUpdate:open":e[38]||(e[38]=a=>se.value=a)},{default:l(()=>[s(t(j),{class:"max-w-[95vw] sm:max-w-[425px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(L),null,{default:l(()=>e[146]||(e[146]=[n("Confirm Deletion")])),_:1}),s(t(P),{class:"text-sm sm:text-base"},{default:l(()=>e[147]||(e[147]=[n(" Are you sure you want to delete this repair order? This action cannot be undone. ")])),_:1})]),_:1}),s(t(E),{class:"flex-col gap-2 sm:flex-row"},{default:l(()=>[s(t(x),{type:"button",onClick:e[37]||(e[37]=a=>se.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[148]||(e[148]=[n("Cancel")])),_:1}),s(t(x),{type:"button",onClick:He,variant:"destructive",class:"w-full sm:w-auto"},{default:l(()=>e[149]||(e[149]=[n("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(B),{open:me.value,"onUpdate:open":e[41]||(e[41]=a=>me.value=a)},{default:l(()=>[s(t(j),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(L),null,{default:l(()=>e[150]||(e[150]=[n("Manage Areas of Concern")])),_:1}),s(t(P),{class:"text-sm sm:text-base"},{default:l(()=>e[151]||(e[151]=[n(" Add or remove areas of concern for repair orders. ")])),_:1})]),_:1}),o("div",Il,[o("form",{onSubmit:re(Xe,["prevent"]),class:"space-y-3 sm:space-y-4"},[o("div",Rl,[s(t(b),{for:"concern"},{default:l(()=>e[152]||(e[152]=[n("Area of Concern")])),_:1}),s(t(U),{id:"concern",modelValue:t(ae).concern,"onUpdate:modelValue":e[39]||(e[39]=a=>t(ae).concern=a),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),s(t(x),{type:"submit",class:"w-full"},{default:l(()=>e[153]||(e[153]=[n("Add Area of Concern")])),_:1})],32),o("div",Ml,[o("div",Wl,[s(t(J),null,{default:l(()=>[s(t(Z),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[s(t(V),null,{default:l(()=>[s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[154]||(e[154]=[n("Area of Concern")])),_:1}),s(t(w),{class:"w-20 text-xs sm:text-sm"},{default:l(()=>e[155]||(e[155]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(t(ee),null,{default:l(()=>[v.areasOfConcern.length===0?(r(),g(t(V),{key:0},{default:l(()=>[s(t(_),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>e[156]||(e[156]=[n("No areas of concern found.")])),_:1})]),_:1})):p("",!0),(r(!0),i(C,null,A(v.areasOfConcern,a=>(r(),g(t(V),{key:a.id},{default:l(()=>[s(t(_),{class:"text-xs sm:text-sm"},{default:l(()=>[n(m(a.concern)+" ",1),a.deleted_at?(r(),i("span",ql,"(Deleted)")):p("",!0)]),_:2},1024),s(t(_),null,{default:l(()=>[o("div",zl,[a.deleted_at?(r(),g(t(x),{key:0,onClick:c=>Je(a.id),variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0),a.deleted_at?p("",!0):(r(),g(t(x),{key:1,onClick:c=>Ge(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),a.deleted_at?(r(),g(t(x),{key:2,onClick:c=>Ze(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),s(t(E),null,{default:l(()=>[s(t(x),{onClick:e[40]||(e[40]=a=>me.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[157]||(e[157]=[n("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(B),{open:fe.value,"onUpdate:open":e[44]||(e[44]=a=>fe.value=a)},{default:l(()=>[s(t(j),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(L),null,{default:l(()=>e[158]||(e[158]=[n("Manage Vendors")])),_:1}),s(t(P),{class:"text-sm sm:text-base"},{default:l(()=>e[159]||(e[159]=[n(" Add or remove vendors for repair orders. ")])),_:1})]),_:1}),o("div",Fl,[o("form",{onSubmit:re(tt,["prevent"]),class:"space-y-3 sm:space-y-4"},[o("div",Tl,[s(t(b),{for:"vendor_name"},{default:l(()=>e[160]||(e[160]=[n("Vendor Name")])),_:1}),s(t(U),{id:"vendor_name",modelValue:t(oe).vendor_name,"onUpdate:modelValue":e[42]||(e[42]=a=>t(oe).vendor_name=a),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),s(t(x),{type:"submit",class:"w-full"},{default:l(()=>e[161]||(e[161]=[n("Add Vendor")])),_:1})],32),o("div",Bl,[o("div",jl,[s(t(J),null,{default:l(()=>[s(t(Z),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[s(t(V),{class:"sticky top-0 z-10 border-b bg-background"},{default:l(()=>[s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[162]||(e[162]=[n("Vendor Name")])),_:1}),s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[163]||(e[163]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(t(ee),null,{default:l(()=>[v.vendors.length===0?(r(),g(t(V),{key:0},{default:l(()=>[s(t(_),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>e[164]||(e[164]=[n("No vendors found.")])),_:1})]),_:1})):p("",!0),(r(!0),i(C,null,A(v.vendors,a=>(r(),g(t(V),{key:a.id},{default:l(()=>[s(t(_),{class:"text-xs sm:text-sm"},{default:l(()=>[n(m(a.vendor_name)+" ",1),a.deleted_at?(r(),i("span",Pl,"(Deleted)")):p("",!0)]),_:2},1024),s(t(_),null,{default:l(()=>[o("div",Ql,[a.deleted_at?(r(),g(t(x),{key:0,onClick:c=>lt(a.id),variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0),a.deleted_at?p("",!0):(r(),g(t(x),{key:1,onClick:c=>st(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),a.deleted_at?(r(),g(t(x),{key:2,onClick:c=>at(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),s(t(E),null,{default:l(()=>[s(t(x),{onClick:e[43]||(e[43]=a=>fe.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[165]||(e[165]=[n("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(B),{open:le.value,"onUpdate:open":e[47]||(e[47]=a=>le.value=a)},{default:l(()=>[s(t(j),{class:"max-w-[95vw] sm:max-w-[425px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(L),null,{default:l(()=>e[166]||(e[166]=[n("Confirm Bulk Deletion")])),_:1}),s(t(P),{class:"text-sm sm:text-base"},{default:l(()=>[n(" Are you sure you want to delete "+m(I.value.length)+" repair orders? This action cannot be undone. ",1)]),_:1})]),_:1}),s(t(E),{class:"mt-4 flex-col gap-2 sm:flex-row"},{default:l(()=>[s(t(x),{type:"button",onClick:e[45]||(e[45]=a=>le.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[167]||(e[167]=[n(" Cancel ")])),_:1}),s(t(x),{type:"button",onClick:e[46]||(e[46]=a=>Be()),variant:"destructive",class:"w-full sm:w-auto"},{default:l(()=>e[168]||(e[168]=[n(" Delete Selected ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(B),{open:ue.value,"onUpdate:open":e[50]||(e[50]=a=>ue.value=a)},{default:l(()=>[s(t(j),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(L),null,{default:l(()=>e[169]||(e[169]=[n("Manage Work Order Statuses")])),_:1}),s(t(P),{class:"text-sm sm:text-base"},{default:l(()=>e[170]||(e[170]=[n(" Add or remove work order statuses for repair orders. ")])),_:1})]),_:1}),o("div",Ll,[o("form",{onSubmit:re(ct,["prevent"]),class:"space-y-3 sm:space-y-4"},[o("div",El,[s(t(b),{for:"status_name"},{default:l(()=>e[171]||(e[171]=[n("Status Name")])),_:1}),s(t(U),{id:"status_name",modelValue:te.value.name,"onUpdate:modelValue":e[48]||(e[48]=a=>te.value.name=a),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),s(t(x),{type:"submit",class:"w-full"},{default:l(()=>e[172]||(e[172]=[n("Add Work Order Status")])),_:1})],32),o("div",Yl,[o("div",Hl,[s(t(J),null,{default:l(()=>[s(t(Z),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[s(t(V),{class:"sticky top-0 z-10 border-b bg-background"},{default:l(()=>[s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[173]||(e[173]=[n("Status Name")])),_:1}),s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[174]||(e[174]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(t(ee),null,{default:l(()=>[v.woStatuses.length===0?(r(),g(t(V),{key:0},{default:l(()=>[s(t(_),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>e[175]||(e[175]=[n("No work order statuses found.")])),_:1})]),_:1})):p("",!0),(r(!0),i(C,null,A(v.woStatuses,a=>(r(),g(t(V),{key:a.id},{default:l(()=>[s(t(_),{class:"text-xs sm:text-sm"},{default:l(()=>[n(m(a.name)+" ",1),a.deleted_at?(r(),i("span",Kl,"(Deleted)")):p("",!0)]),_:2},1024),s(t(_),null,{default:l(()=>[o("div",Xl,[a.deleted_at?(r(),g(t(x),{key:0,onClick:c=>xt(a.id),variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0),a.deleted_at?p("",!0):(r(),g(t(x),{key:1,onClick:c=>vt(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),a.deleted_at?(r(),g(t(x),{key:2,onClick:c=>_t(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),s(t(E),null,{default:l(()=>[s(t(x),{onClick:e[49]||(e[49]=a=>ue.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[176]||(e[176]=[n("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),s(t(B),{open:ve.value,"onUpdate:open":e[52]||(e[52]=a=>ve.value=a)},{default:l(()=>[s(t(j),{class:"max-h-[90vh] max-w-[95vw] overflow-y-auto md:max-w-[80vw] lg:max-w-4xl"},{default:l(()=>{var a;return[s(t(Q),null,{default:l(()=>[s(t(L),{class:"flex items-center gap-2 text-lg md:text-xl"},{default:l(()=>[s(y,{name:"alert-triangle",class:"h-5 w-5 text-red-600"}),e[177]||(e[177]=n(" Canceled Invoices on QS "))]),_:1}),s(t(P),null,{default:l(()=>e[178]||(e[178]=[n(" These invoices have a canceled WO status but are still marked as on QS. Please review and take appropriate action. ")])),_:1})]),_:1}),o("div",Gl,[(a=f.canceledQSInvoices)!=null&&a.length?(r(),g(t(J),{key:0},{default:l(()=>[s(t(Z),null,{default:l(()=>[s(t(V),null,{default:l(()=>[s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[179]||(e[179]=[n("RO Number")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[180]||(e[180]=[n("Vendor")])),_:1}),s(t(w),{class:"whitespace-nowrap text-right"},{default:l(()=>e[181]||(e[181]=[n("Amount")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[182]||(e[182]=[n("Week")])),_:1})]),_:1})]),_:1}),s(t(ee),null,{default:l(()=>[(r(!0),i(C,null,A(f.canceledQSInvoices,c=>(r(),g(t(V),{key:c.ro_number,class:"hover:bg-red-50 dark:hover:bg-red-900/30"},{default:l(()=>[s(t(_),{class:"font-medium"},{default:l(()=>[o("div",Jl,[s(y,{name:"alert-triangle",class:"h-4 w-4 text-red-600 dark:text-red-400"}),n(" "+m(c.ro_number),1)])]),_:2},1024),s(t(_),null,{default:l(()=>[n(m(c.vendor_name),1)]),_:2},1024),s(t(_),{class:"text-right"},{default:l(()=>[n(m(ye(c.invoice_amount)),1)]),_:2},1024),s(t(_),null,{default:l(()=>[n("W"+m(c.week_number)+"/"+m(c.year),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(r(),i("div",Zl,"No canceled QS invoices found."))]),s(t(E),{class:"mt-4 flex flex-col gap-2 sm:flex-row"},{default:l(()=>[s(t(x),{onClick:e[51]||(e[51]=c=>ve.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[183]||(e[183]=[n("Close")])),_:1})]),_:1})]}),_:1})]),_:1},8,["open"])]}),_:1},8,["tenantSlug","permissions"])}}},Oa=ht(ea,[["__scopeId","data-v-2282dc64"]]);export{Oa as default};
